module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},73013,a=>{a.n(a.i(43871))},98160,a=>{a.n(a.i(71098))},59367,a=>{a.n(a.i(8188))},40422,a=>{a.n(a.i(98017))},89523,a=>{a.n(a.i(34764))},62771,a=>{a.n(a.i(74903))},16170,a=>{a.n(a.i(7247))},30068,a=>{a.n(a.i(48088))},69587,a=>{a.n(a.i(94908))},29149,a=>{"use strict";var b=a.i(99037),c=a.i(59089),d=a.i(22703);async function e({params:a}){let{projectId:d}=await a,e=await (0,c.createSupabaseServerClient)(),{data:g,error:h}=await e.rpc("ops.project_branches",{p_project_id:d});if(h)return(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"rounded-md bg-red-50 p-4",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading branches"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-red-700",children:h.message})]})});let i=(g||[]).filter(a=>"production"===a.stage),j=(g||[]).filter(a=>"staging"===a.stage),k=(g||[]).filter(a=>"development"===a.stage);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Branches"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"3-stage deployment pipeline: Production → Staging → Development"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Production"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Live environment"})]}),(0,b.jsx)("div",{className:"space-y-3",children:i.map(a=>(0,b.jsx)(f,{branch:a,projectId:d},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Staging"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Pre-production testing"})]}),(0,b.jsx)("div",{className:"space-y-3",children:j.map(a=>(0,b.jsx)(f,{branch:a,projectId:d},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Development"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Feature branches"})]}),(0,b.jsx)("div",{className:"space-y-3",children:k.map(a=>(0,b.jsx)(f,{branch:a,projectId:d},a.id))})]})]})]})}function f({branch:a,projectId:c}){let e=function(a){if("building"===a.status)return"building";if("error"===a.status)return"failed";switch(a.last_build_status){case"success":return"healthy";case"running":return"building";case"failed":return"failed";default:return"unknown"}}(a),f=(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 hover:border-gray-300 transition",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm truncate flex-1",children:a.name}),(0,b.jsx)("span",{className:`rounded-full px-2 py-0.5 text-xs ${{healthy:"bg-green-100 text-green-800",building:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",unknown:"bg-gray-100 text-gray-800"}[e]}`,children:e})]}),(0,b.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Builds"}),(0,b.jsx)("span",{children:a.build_count||0})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Last deploy"}),(0,b.jsx)("span",{children:function(a){if(!a)return"Never";let b=Date.now()-new Date(a).getTime(),c=Math.floor(b/6e4),d=Math.floor(b/36e5),e=Math.floor(b/864e5);return e>0?`${e}d ago`:d>0?`${d}h ago`:c>0?`${c}m ago`:"Just now"}(a.last_build_at)})]})]})]});return a.last_build_id?(0,b.jsx)(d.default,{href:`/app/projects/${c}/builds/${a.last_build_id}/logs`,children:f}):(0,b.jsx)("div",{children:f})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6d994cea._.js.map