module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},73013,a=>{a.n(a.i(43871))},98160,a=>{a.n(a.i(71098))},59367,a=>{a.n(a.i(8188))},40422,a=>{a.n(a.i(98017))},89523,a=>{a.n(a.i(34764))},62771,a=>{a.n(a.i(74903))},16170,a=>{a.n(a.i(7247))},42402,a=>{a.n(a.i(98466))},87153,a=>{"use strict";var b=a.i(99037),c=a.i(59089);async function d(){await (0,c.createClient)();let a={info:{bg:"bg-blue-100",text:"text-blue-800",icon:"â„¹ï¸"},warning:{bg:"bg-yellow-100",text:"text-yellow-800",icon:"âš ï¸"},critical:{bg:"bg-red-100",text:"text-red-800",icon:"ðŸš¨"}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Audit Trail"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Immutable event timeline for month-end close operations"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded",children:[(0,b.jsx)("option",{children:"All Events"}),(0,b.jsx)("option",{children:"Tasks"}),(0,b.jsx)("option",{children:"Tax Forms"}),(0,b.jsx)("option",{children:"System"})]}),(0,b.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded",children:[(0,b.jsx)("option",{children:"Last 24 hours"}),(0,b.jsx)("option",{children:"Last 7 days"}),(0,b.jsx)("option",{children:"Last 30 days"})]})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-6",children:[{label:"Total Events",value:"243",color:"text-gray-900"},{label:"Info",value:"225",color:"text-blue-600"},{label:"Warnings",value:"15",color:"text-yellow-600"},{label:"Critical",value:"3",color:"text-red-600"}].map(a=>(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:a.label}),(0,b.jsx)("div",{className:`text-3xl font-bold ${a.color}`,children:a.value})]},a.label))}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Event Log"})}),(0,b.jsx)("div",{className:"divide-y divide-gray-200",children:[{id:"1",timestamp:"2026-02-12 14:45:23",actor:"Finance Ops",action:"month_close.task.completed",target:"Process employee payroll",metadata:{workstream:"Payroll & Benefits",evidence_count:3,duration_minutes:45},level:"info"},{id:"2",timestamp:"2026-02-12 13:30:15",actor:"Finance Ops",action:"tax.form.filed",target:"BIR Form 1601-C",metadata:{form_code:"1601-C",period:"2026-02",payable_amount:45230,filing_method:"eBIRForms"},level:"info"},{id:"3",timestamp:"2026-02-12 12:15:00",actor:"System",action:"month_close.sync_tasks.completed",target:"Close Run Feb 2026",metadata:{tasks_created:12,tasks_updated:53,run_id:"run-2026-02"},level:"info"},{id:"4",timestamp:"2026-02-12 10:00:00",actor:"Finance Ops",action:"month_close.task.blocked",target:"Verify inventory count accuracy",metadata:{workstream:"AP/AR Management",blocker:"Warehouse system unavailable",priority:"high"},level:"warning"},{id:"5",timestamp:"2026-02-11 16:45:00",actor:"Finance Ops",action:"tax.form.payment.confirmed",target:"BIR Form 1601-C",metadata:{form_code:"1601-C",payment_ref:"PAY-2026-02-001",amount:45230,bank:"BDO"},level:"info"},{id:"6",timestamp:"2026-02-11 14:20:00",actor:"System",action:"month_close.kpi.computed",target:"KPI Rollup",metadata:{scope:"local",metrics_computed:15,period:"2026-02"},level:"info"}].map(c=>{let d=a[c.level];return(0,b.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-40 text-sm text-gray-600 font-mono",children:c.timestamp}),(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-medium ${d.bg} ${d.text}`,children:[d.icon," ",c.level]})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 mb-1",children:c.action}),(0,b.jsxs)("div",{className:"text-sm text-gray-700 mb-2",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Target:"})," ",c.target]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Actor:"})," ",c.actor]}),Object.keys(c.metadata).length>0&&(0,b.jsxs)("details",{className:"mt-3",children:[(0,b.jsxs)("summary",{className:"text-sm text-blue-600 cursor-pointer hover:underline",children:["View metadata (",Object.keys(c.metadata).length," ","fields)"]}),(0,b.jsx)("div",{className:"mt-2 bg-gray-50 rounded p-3 text-sm",children:(0,b.jsx)("pre",{className:"text-xs font-mono text-gray-700",children:JSON.stringify(c.metadata,null,2)})})]})]})})})]})},c.id)})})]}),(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-blue-900",children:"Audit Trail Features"}),(0,b.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-800 mt-2",children:[(0,b.jsx)("li",{children:"Immutable event log stored in Supabase audit.events table"}),(0,b.jsx)("li",{children:"Every close step writes one deterministic audit row"}),(0,b.jsx)("li",{children:"Metadata includes evidence refs, Odoo IDs, and operational context"}),(0,b.jsx)("li",{children:"Full traceability from task execution to tax filing to payment"})]})]})]})})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__782316c3._.js.map