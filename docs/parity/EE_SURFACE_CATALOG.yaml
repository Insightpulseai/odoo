version: 0.1
odoo_major: 19
catalog:
  - id: EE-SURF-001
    name: Hosting & Lifecycle (Odoo.sh-class)
    tier: 0
    vendor_surface:
      description: "Official hosted platform with web shell, dependency handling, CI, SSH."
      source: "Odoo 19 docs: Odoo.sh"
    acceptance:
      - id: EE-SURF-001-A1
        name: "Has CI pipeline that builds Odoo + addons deterministically"
        probe: "ci_build_pipeline"
      - id: EE-SURF-001-A2
        name: "Supports environment separation (dev/stage/prod) with promotion workflow"
        probe: "env_separation"
      - id: EE-SURF-001-A3
        name: "Provides remote shell/SSH-equivalent access for diagnostics"
        probe: "remote_shell_access"
    strategy:
      type: external_platform
      components:
        - "GitHub Actions CI"
        - "Containerized Odoo deploys on DigitalOcean"
        - "Artifacts + logs shipped to observability store (e.g., Supabase/Log drains)"
    evidence:
      - "CI logs + build artifact checksum"
      - "Promotion run logs (stage->prod)"
      - "Remote exec transcript (sanitized)"
    citations:
      - "turn22view0"

  - id: EE-SURF-002
    name: Upgrades Service (Odoo upgrade platform)
    tier: 0
    vendor_surface:
      description: "Upgrade workflow integrated with Odoo.sh and upgrade modes."
      source: "Odoo 19 docs: Upgrade"
    acceptance:
      - id: EE-SURF-002-A1
        name: "Automated upgrade rehearsal on staging from prod snapshot"
        probe: "upgrade_rehearsal"
      - id: EE-SURF-002-A2
        name: "Upgrade produces structured report + diff of breaking changes"
        probe: "upgrade_report"
      - id: EE-SURF-002-A3
        name: "Rollback plan exists and is testable"
        probe: "upgrade_rollback_plan"
    strategy:
      type: pipeline
      components:
        - "Snapshot/restore scripts"
        - "Automated migration test suite"
        - "Schema + module state validation"
    evidence:
      - "Upgrade rehearsal logs"
      - "Migration report artifact"
      - "Rollback drill logs"
    citations:
      - "turn21view0"

  - id: EE-SURF-003
    name: Support (Standard & Extended)
    tier: 0
    vendor_surface:
      description: "Support levels with ticketing and response scope."
      source: "Odoo 19 docs: Standard and extended support"
    acceptance:
      - id: EE-SURF-003-A1
        name: "Ticket workflow exists (intake->triage->resolution->postmortem)"
        probe: "support_workflow"
      - id: EE-SURF-003-A2
        name: "Runbooks exist for top incidents (db down, mail fail, upgrade fail)"
        probe: "runbooks_present"
      - id: EE-SURF-003-A3
        name: "SLA targets declared and monitored"
        probe: "sla_monitoring"
    strategy:
      type: process_plus_tooling
      components:
        - "GitHub Issues/Projects or equivalent queue"
        - "Automated health checks + alerts"
        - "Evidence capture under docs/evidence/"
    evidence:
      - "Support queue snapshot"
      - "Runbook files list"
      - "Alert test evidence"
    citations:
      - "turn20view0"

  - id: EE-SURF-004
    name: AI Agents Enablement
    tier: 1
    vendor_surface:
      description: "AI Agents require AI app enabled and external AI API keys (OpenAI / Gemini)."
      source: "Odoo 19 docs: AI agents"
    acceptance:
      - id: EE-SURF-004-A1
        name: "AI app enabled and keys provisioned via secrets manager"
        probe: "ai_keys_configured"
      - id: EE-SURF-004-A2
        name: "Policy guardrails exist (allowlist models, logging, rate limits)"
        probe: "ai_guardrails"
    strategy:
      type: configuration_plus_glue
      components:
        - "Secrets vault (e.g., Supabase Vault)"
        - "Audit logging"
    evidence:
      - "Key presence check (non-secret)"
      - "AI guardrail config dump"
    citations:
      - "turn7view0"

  - id: EE-SURF-005
    name: In-App Purchase (IAP) Credits Operations
    tier: 1
    vendor_surface:
      description: "IAP credits are purchased/consumed by certain services; credits tied to DB."
      source: "Odoo 19 docs: In-app purchase"
    acceptance:
      - id: EE-SURF-005-A1
        name: "IAP usage visibility (credits remaining + consumption logs)"
        probe: "iap_visibility"
      - id: EE-SURF-005-A2
        name: "Procurement & audit workflow exists"
        probe: "iap_audit_workflow"
    strategy:
      type: ops_workflow
      components:
        - "Finance workflow integration"
        - "Usage reporting"
    evidence:
      - "IAP metrics snapshot"
      - "Audit trail artifacts"
    citations:
      - "turn11view0"

notes:
  maintenance:
    - "Catalog is living SSOT; extend Tier-2 after Tier-0 stability."
