/*
 * TBWA Navbar / Topbar / Menu Styles
 * ===================================
 * Clean, professional navigation with TBWA branding
 * Hide all menu items except logo and user menu
 */

// ============================================================================
// TOP NAVBAR
// ============================================================================
.o_main_navbar {
  background-color: var(--tbwa-primary) !important;
  border-bottom: 1px solid var(--tbwa-border);
  box-shadow: var(--tbwa-shadow-sm);
  position: relative;
  z-index: 1000;

  // Logo container - prevent overlap
  .navbar-brand,
  .o_navbar_apps_menu {
    z-index: 1001;
    position: relative;
  }

  // HIDE ALL MENU ITEMS - keep only logo and user menu
  .o_menu_sections,
  .o_menu_brand,
  .o_menu_systray .o_searchview,
  nav.o_main_navbar > .o_menu_sections,
  .o_menu_systray > :not(.o_user_menu):not(.o_switch_company_menu) {
    display: none !important;
  }

  // Navbar links - ensure proper stacking
  .nav-link,
  .dropdown-toggle {
    color: var(--tbwa-text-on-primary) !important;
    opacity: 0.9;
    position: relative;
    z-index: 999;

    &:hover,
    &:focus {
      opacity: 1;
      background-color: rgba(255, 255, 255, 0.1);
    }
  }

  // Prevent dropdown menus from overlapping logo
  .dropdown-menu {
    z-index: 1002;
  }

  // Active state
  .nav-link.active,
  .show > .dropdown-toggle {
    opacity: 1;
    background-color: rgba(255, 255, 255, 0.15);
  }

  // User menu - keep visible
  .o_user_menu {
    display: flex !important;

    .dropdown-toggle {
      img {
        border-radius: 50%;
        border: 2px solid var(--tbwa-accent);
      }
    }
  }
}

// ============================================================================
// LEFT SIDEBAR / APP MENU
// ============================================================================
.o_main_components_container {
  .o_menu_sections {
    background-color: var(--tbwa-bg);
    border-right: 1px solid var(--tbwa-border);
  }
}

.o_menu_sections {
  // Menu items
  .o_menu_entry {
    border-radius: var(--tbwa-radius-sm);
    margin: 2px 8px;
    color: var(--tbwa-text-primary);

    &:hover {
      background-color: var(--tbwa-surface);
    }

    &.active,
    &.o_menu_entry_lvl_1.active {
      background-color: var(--tbwa-primary);
      color: var(--tbwa-text-on-primary);

      .o_menu_icon {
        color: var(--tbwa-text-on-primary);
      }
    }
  }

  // Menu icons
  .o_menu_icon {
    color: var(--tbwa-text-secondary);
  }

  // Section headers
  .o_menu_header {
    color: var(--tbwa-text-secondary);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    padding: 0.75rem 1rem 0.5rem;
  }
}

// ============================================================================
// APP SWITCHER
// ============================================================================
.o_home_menu {
  background-color: var(--tbwa-bg);

  .o_app {
    border-radius: var(--tbwa-radius-md);
    transition: all 150ms ease;

    &:hover {
      transform: translateY(-2px);
      box-shadow: var(--tbwa-shadow-md);
    }

    .o_app_icon {
      border-radius: var(--tbwa-radius-md);
    }

    .o_app_name {
      color: var(--tbwa-text-primary);
      font-weight: 500;
    }
  }
}

// ============================================================================
// MOBILE HAMBURGER MENU
// ============================================================================
.o_menu_toggle {
  color: var(--tbwa-text-on-primary);

  &:hover {
    background-color: rgba(255, 255, 255, 0.1);
  }
}

// ============================================================================
// BREADCRUMBS
// ============================================================================
.o_breadcrumb {
  .breadcrumb-item {
    color: var(--tbwa-text-secondary);

    a {
      color: var(--tbwa-primary);

      &:hover {
        color: var(--tbwa-primary-hover);
      }
    }

    &.active {
      color: var(--tbwa-text-primary);
      font-weight: 500;
    }
  }
}
