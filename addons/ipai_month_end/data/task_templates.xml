<?xml version="1.0" encoding="utf-8"?>
<odoo noupdate="1">
    <!-- Phase I - Initial & Compliance -->
    <record id="template_bank_recon" model="ipai.month.end.task.template">
        <field name="name">Bank Reconciliation</field>
        <field name="sequence">10</field>
        <field name="phase">I</field>
        <field name="prep_day_offset">-10</field>
        <field name="review_day_offset">-8</field>
        <field name="approve_day_offset">-6</field>
        <field name="odoo_model">account.bank.statement</field>
        <field name="description"><![CDATA[
            <p>Complete bank reconciliation for all accounts:</p>
            <ul>
                <li>Match bank statement lines to journal entries</li>
                <li>Identify and investigate unreconciled items</li>
                <li>Document any timing differences</li>
            </ul>
        ]]></field>
    </record>

    <record id="template_ar_aging" model="ipai.month.end.task.template">
        <field name="name">AR Aging Review &amp; Bad Debt Assessment</field>
        <field name="sequence">20</field>
        <field name="phase">I</field>
        <field name="prep_day_offset">-10</field>
        <field name="review_day_offset">-8</field>
        <field name="approve_day_offset">-6</field>
        <field name="odoo_model">account.move.line</field>
        <field name="description"><![CDATA[
            <p>Review accounts receivable aging:</p>
            <ul>
                <li>Generate AR aging report</li>
                <li>Identify past-due accounts</li>
                <li>Assess bad debt provisions</li>
                <li>Document collection efforts</li>
            </ul>
        ]]></field>
    </record>

    <record id="template_ap_review" model="ipai.month.end.task.template">
        <field name="name">AP Review &amp; Accrual</field>
        <field name="sequence">30</field>
        <field name="phase">I</field>
        <field name="prep_day_offset">-10</field>
        <field name="review_day_offset">-8</field>
        <field name="approve_day_offset">-6</field>
        <field name="odoo_model">account.move</field>
        <field name="description"><![CDATA[
            <p>Review accounts payable and accruals:</p>
            <ul>
                <li>Verify all invoices are recorded</li>
                <li>Identify uninvoiced receipts</li>
                <li>Accrue for goods/services received</li>
            </ul>
        ]]></field>
    </record>

    <!-- Phase II - Accruals & Amortization -->
    <record id="template_prepaid_amort" model="ipai.month.end.task.template">
        <field name="name">Prepaid Expense Amortization</field>
        <field name="sequence">10</field>
        <field name="phase">II</field>
        <field name="prep_day_offset">-8</field>
        <field name="review_day_offset">-6</field>
        <field name="approve_day_offset">-4</field>
        <field name="oca_module">account_cutoff_accrual_picking</field>
        <field name="description"><![CDATA[
            <p>Process prepaid expense amortization:</p>
            <ul>
                <li>Run prepaid amortization schedule</li>
                <li>Post monthly expense entries</li>
                <li>Verify remaining balances</li>
            </ul>
        ]]></field>
    </record>

    <record id="template_depreciation" model="ipai.month.end.task.template">
        <field name="name">Fixed Asset Depreciation</field>
        <field name="sequence">20</field>
        <field name="phase">II</field>
        <field name="prep_day_offset">-8</field>
        <field name="review_day_offset">-6</field>
        <field name="approve_day_offset">-4</field>
        <field name="odoo_model">account.asset</field>
        <field name="oca_module">account_asset_management</field>
        <field name="description"><![CDATA[
            <p>Process fixed asset depreciation:</p>
            <ul>
                <li>Run depreciation computation</li>
                <li>Review new asset additions</li>
                <li>Verify disposal entries</li>
                <li>Post depreciation entries</li>
            </ul>
        ]]></field>
    </record>

    <record id="template_revenue_accrual" model="ipai.month.end.task.template">
        <field name="name">Revenue Accrual</field>
        <field name="sequence">30</field>
        <field name="phase">II</field>
        <field name="prep_day_offset">-7</field>
        <field name="review_day_offset">-5</field>
        <field name="approve_day_offset">-3</field>
        <field name="oca_module">account_cutoff_base</field>
        <field name="description"><![CDATA[
            <p>Accrue revenue for the period:</p>
            <ul>
                <li>Identify earned but unbilled revenue</li>
                <li>Calculate accrual amounts</li>
                <li>Post accrual entries</li>
            </ul>
        ]]></field>
    </record>

    <record id="template_expense_accrual" model="ipai.month.end.task.template">
        <field name="name">Expense Accrual</field>
        <field name="sequence">40</field>
        <field name="phase">II</field>
        <field name="prep_day_offset">-7</field>
        <field name="review_day_offset">-5</field>
        <field name="approve_day_offset">-3</field>
        <field name="oca_module">account_cutoff_base</field>
        <field name="description"><![CDATA[
            <p>Accrue expenses for the period:</p>
            <ul>
                <li>Review utility estimates</li>
                <li>Accrue professional fees</li>
                <li>Calculate other accruals</li>
                <li>Post accrual entries</li>
            </ul>
        ]]></field>
    </record>

    <!-- Phase III - WIP -->
    <record id="template_inventory_valuation" model="ipai.month.end.task.template">
        <field name="name">Inventory Valuation</field>
        <field name="sequence">10</field>
        <field name="phase">III</field>
        <field name="prep_day_offset">-6</field>
        <field name="review_day_offset">-4</field>
        <field name="approve_day_offset">-2</field>
        <field name="odoo_model">stock.valuation.layer</field>
        <field name="description"><![CDATA[
            <p>Complete inventory valuation:</p>
            <ul>
                <li>Run inventory valuation report</li>
                <li>Review cost variances</li>
                <li>Adjust for obsolescence</li>
                <li>Reconcile to GL</li>
            </ul>
        ]]></field>
    </record>

    <record id="template_wip_review" model="ipai.month.end.task.template">
        <field name="name">WIP / Project Cost Review</field>
        <field name="sequence">20</field>
        <field name="phase">III</field>
        <field name="prep_day_offset">-6</field>
        <field name="review_day_offset">-4</field>
        <field name="approve_day_offset">-2</field>
        <field name="odoo_model">project.project</field>
        <field name="description"><![CDATA[
            <p>Review work-in-progress:</p>
            <ul>
                <li>Update project completion percentages</li>
                <li>Calculate revenue recognition</li>
                <li>Review cost allocations</li>
                <li>Post adjusting entries</li>
            </ul>
        ]]></field>
    </record>

    <!-- Phase IV - Final Adjustments & Close -->
    <record id="template_intercompany" model="ipai.month.end.task.template">
        <field name="name">Intercompany Reconciliation</field>
        <field name="sequence">10</field>
        <field name="phase">IV</field>
        <field name="prep_day_offset">-4</field>
        <field name="review_day_offset">-2</field>
        <field name="approve_day_offset">-1</field>
        <field name="description"><![CDATA[
            <p>Reconcile intercompany accounts:</p>
            <ul>
                <li>Match intercompany transactions</li>
                <li>Identify and resolve differences</li>
                <li>Post elimination entries</li>
            </ul>
        ]]></field>
    </record>

    <record id="template_tax_provision" model="ipai.month.end.task.template">
        <field name="name">Tax Provision Calculation</field>
        <field name="sequence">20</field>
        <field name="phase">IV</field>
        <field name="prep_day_offset">-3</field>
        <field name="review_day_offset">-2</field>
        <field name="approve_day_offset">-1</field>
        <field name="description"><![CDATA[
            <p>Calculate tax provision:</p>
            <ul>
                <li>Calculate current tax expense</li>
                <li>Review deferred tax positions</li>
                <li>Document permanent differences</li>
                <li>Post tax entries</li>
            </ul>
        ]]></field>
    </record>

    <record id="template_final_review" model="ipai.month.end.task.template">
        <field name="name">Final Trial Balance Review</field>
        <field name="sequence">30</field>
        <field name="phase">IV</field>
        <field name="prep_day_offset">-2</field>
        <field name="review_day_offset">-1</field>
        <field name="approve_day_offset">0</field>
        <field name="description"><![CDATA[
            <p>Perform final trial balance review:</p>
            <ul>
                <li>Review all account balances</li>
                <li>Perform analytical review</li>
                <li>Document unusual fluctuations</li>
                <li>Prepare management summary</li>
            </ul>
        ]]></field>
    </record>

    <record id="template_period_close" model="ipai.month.end.task.template">
        <field name="name">Close Accounting Period</field>
        <field name="sequence">40</field>
        <field name="phase">IV</field>
        <field name="prep_day_offset">0</field>
        <field name="review_day_offset">0</field>
        <field name="approve_day_offset">0</field>
        <field name="odoo_model">account.fiscal.year</field>
        <field name="description"><![CDATA[
            <p>Close the accounting period:</p>
            <ul>
                <li>Lock the period in Odoo</li>
                <li>Generate final reports</li>
                <li>Archive supporting documentation</li>
            </ul>
        ]]></field>
    </record>
</odoo>
