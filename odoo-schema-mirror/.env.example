# =============================================================================
# Odoo Schema Mirror Pipeline - Environment Variables
# =============================================================================
# Copy this file to .env and fill in actual values. NEVER commit secrets.
# =============================================================================

# -----------------------------------------------------------------------------
# Odoo PostgreSQL Connection (Source - READ ONLY)
# -----------------------------------------------------------------------------
ODOO_DB_HOST=TODO                    # e.g., 178.128.112.214 or db.example.com
ODOO_DB_PORT=5432                    # Default PostgreSQL port
ODOO_DB_NAME=TODO                    # e.g., odoo_core
ODOO_DB_USER=TODO                    # Read-only user recommended
ODOO_DB_PASSWORD=TODO                # Use secrets management in CI

# -----------------------------------------------------------------------------
# Supabase PostgreSQL Connection (Target)
# -----------------------------------------------------------------------------
SUPABASE_PROJECT_REF=TODO            # e.g., spdtwktxdalcfigzeqrz
SUPABASE_DB_URL=TODO                 # Full postgres:// connection string
SUPABASE_DB_HOST=TODO                # e.g., db.spdtwktxdalcfigzeqrz.supabase.co
SUPABASE_DB_PORT=5432                # Default Supabase port (or 6543 for pooler)
SUPABASE_DB_NAME=postgres            # Supabase always uses 'postgres'
SUPABASE_DB_USER=postgres            # Or service_role user
SUPABASE_DB_PASSWORD=TODO            # Supabase database password
SUPABASE_DB_SCHEMA=odoo_shadow       # Target schema for mirrored tables

# -----------------------------------------------------------------------------
# Output Directories
# -----------------------------------------------------------------------------
DBML_OUTPUT_DIR=./docs/dbml
ERD_OUTPUT_DIR=./docs/erd
SCHEMA_ARTIFACT_DIR=./odoo-schema-mirror/artifacts

# -----------------------------------------------------------------------------
# Pipeline Configuration
# -----------------------------------------------------------------------------
ODOO_SCHEMA_PIPELINE_ENABLED=true    # Set to false to disable scheduled runs
ODOO_SCHEMA_ALLOW_DROPS=false        # DANGER: Set to true to allow DROP statements
ODOO_SCHEMA_TABLE_PREFIX=odoo_shadow_ # Prefix for mirrored tables in Supabase
ODOO_SCHEMA_INCLUDE_VIEWS=false      # Whether to include views in export
ODOO_SCHEMA_INCLUDE_FUNCTIONS=false  # Whether to include functions in export

# -----------------------------------------------------------------------------
# Filtering (optional)
# -----------------------------------------------------------------------------
# Comma-separated list of table patterns to include (empty = all)
ODOO_SCHEMA_INCLUDE_TABLES=
# Comma-separated list of table patterns to exclude
ODOO_SCHEMA_EXCLUDE_TABLES=ir_attachment,ir_logging,mail_tracking_value

# -----------------------------------------------------------------------------
# CI/CD
# -----------------------------------------------------------------------------
CI=false                             # Set automatically in GitHub Actions
GITHUB_ACTIONS=false                 # Set automatically in GitHub Actions
