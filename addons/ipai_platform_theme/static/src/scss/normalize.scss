// ============================================================================
// IPAI Platform Design System - Normalize Styles
// ============================================================================
// Applies token-based styling to Odoo components for consistent branding.
// This file should be loaded AFTER tokens.scss.
// ============================================================================

// ============================================================================
// LINKS
// ============================================================================

a,
.btn-link {
  color: var(--ipai-brand-primary) !important;
  text-decoration: none;

  &:hover {
    color: var(--ipai-brand-primary-hover) !important;
  }
}

// ============================================================================
// PRIMARY BUTTONS
// ============================================================================

.btn-primary,
.o_btn_primary,
.btn-fill-primary,
.btn-primary.o_form_button_save,
.o_statusbar_buttons .btn-primary {
  background: var(--ipai-brand-primary) !important;
  border-color: var(--ipai-brand-primary) !important;
  color: var(--ipai-brand-ink) !important;
  font-weight: 600;

  &:hover,
  &:focus,
  &:active {
    background: var(--ipai-brand-primary-hover) !important;
    border-color: var(--ipai-brand-primary-hover) !important;
    color: var(--ipai-brand-ink) !important;
  }

  &:disabled {
    opacity: 0.6;
    color: var(--ipai-brand-ink) !important;
  }
}

.btn-outline-primary {
  color: var(--ipai-text-primary);
  border-color: var(--ipai-brand-primary);
  background: transparent;

  &:hover,
  &:focus {
    color: var(--ipai-brand-ink);
    background: var(--ipai-brand-primary);
    border-color: var(--ipai-brand-primary);
  }
}

// ============================================================================
// BADGES & TAGS
// ============================================================================

.badge-primary,
.o_badge_primary,
.o_tag.o_tag_color_0 {
  background: var(--ipai-brand-primary) !important;
  color: var(--ipai-brand-ink) !important;
}

// ============================================================================
// FORM CONTROLS
// ============================================================================

.form-control:focus,
.o_input:focus,
.o_field_widget .o_input:focus {
  border-color: var(--ipai-brand-primary) !important;
  box-shadow: 0 0 0 0.2rem rgba(var(--ipai-brand-primary-rgb), 0.25) !important;
}

// ============================================================================
// STATUS BAR
// ============================================================================

.o_statusbar_status {
  .o_arrow_button {
    &.o_arrow_button_current {
      background-color: var(--ipai-brand-primary);
      color: var(--ipai-brand-ink);
      font-weight: 600;
    }

    &:hover:not(.o_arrow_button_current):not(.disabled) {
      background-color: var(--ipai-brand-primary-light);
    }
  }
}

// ============================================================================
// LOADING INDICATOR
// ============================================================================

.o_loading_indicator {
  background-color: var(--ipai-brand-primary);
  color: var(--ipai-brand-ink);
}

// ============================================================================
// SEARCH BOX
// ============================================================================

.o_control_panel {
  .o_searchview {
    &:focus-within {
      border-color: var(--ipai-brand-primary);
      box-shadow: 0 0 0 3px rgba(var(--ipai-brand-primary-rgb), 0.15);
    }
  }
}

// ============================================================================
// LIST/TABLE SELECTIONS
// ============================================================================

.o_list_view {
  .o_list_table {
    tbody tr {
      &:hover td {
        background-color: rgba(var(--ipai-brand-primary-rgb), 0.05);
      }

      &.o_data_row_selected td {
        background-color: rgba(var(--ipai-brand-primary-rgb), 0.14);
      }
    }
  }
}

// ============================================================================
// CALENDAR EVENTS
// ============================================================================

.o_calendar_view {
  .fc-event-main {
    background-color: var(--ipai-brand-primary);
    color: var(--ipai-brand-ink);
    border: none;
    border-radius: var(--ipai-radius-sm);
  }
}

// ============================================================================
// CARDS & KANBAN
// ============================================================================

.o_kanban_view {
  .o_kanban_record {
    border-radius: var(--ipai-radius-lg);
    box-shadow: var(--ipai-shadow-sm);
    border: 1px solid var(--ipai-brand-border);

    &:hover {
      box-shadow: var(--ipai-shadow-md);
    }
  }
}

// ============================================================================
// FORM SHEET
// ============================================================================

.o_form_view {
  .o_form_sheet_bg {
    background-color: var(--ipai-brand-surface-alt);
  }

  .o_form_sheet {
    border-radius: var(--ipai-radius-lg);
    box-shadow: var(--ipai-shadow-sm);
    border: 1px solid var(--ipai-brand-border);
  }
}

// ============================================================================
// MODALS
// ============================================================================

.modal-content {
  border-radius: var(--ipai-radius-lg);
  border: none;
  box-shadow: var(--ipai-shadow-xl);
}

.modal-header {
  border-bottom: 1px solid var(--ipai-brand-border);
}

// ============================================================================
// CHATTER
// ============================================================================

.o-mail-Chatter {
  .o-mail-Chatter-top {
    border-bottom: 1px solid var(--ipai-brand-border);
  }

  .o-mail-Message {
    border-radius: var(--ipai-radius-md);
  }
}

// ============================================================================
// SEMANTIC COLORS (Status badges, alerts, etc.)
// ============================================================================

.text-success,
.badge-success,
.alert-success {
  --bs-success-rgb: 16, 185, 129;
}

.text-warning,
.badge-warning,
.alert-warning {
  --bs-warning-rgb: 245, 158, 11;
}

.text-danger,
.badge-danger,
.alert-danger {
  --bs-danger-rgb: 239, 68, 68;
}

.text-info,
.badge-info,
.alert-info {
  --bs-info-rgb: 59, 130, 246;
}
