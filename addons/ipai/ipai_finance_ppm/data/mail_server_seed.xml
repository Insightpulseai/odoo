<?xml version="1.0" encoding="utf-8"?>
<odoo noupdate="1">
    <!-- ========================================== -->
    <!-- Mailgun SMTP Configuration -->
    <!-- Domain: mg.insightpulseai.net -->
    <!-- ========================================== -->

    <!--
    IMPORTANT: After module install, configure the password via:
    Settings → Technical → Email → Outgoing Mail Servers

    SMTP Credentials:
    - Host: smtp.mailgun.org
    - Port: 587 (TLS) or 465 (SSL)
    - User: postmaster@mg.insightpulseai.net
    - Password: (set in Odoo UI or via env var)
    -->

    <record id="mail_server_mailgun" model="ir.mail_server">
        <field name="name">Mailgun - InsightPulse AI</field>
        <field name="smtp_host">smtp.mailgun.org</field>
        <field name="smtp_port">587</field>
        <field name="smtp_encryption">starttls</field>
        <field name="smtp_user">postmaster@mg.insightpulseai.net</field>
        <!-- Password must be set manually in Odoo UI for security -->
        <field name="smtp_pass"></field>
        <field name="sequence">10</field>
        <field name="active" eval="True"/>
    </record>

    <!-- ========================================== -->
    <!-- System Parameters for Email -->
    <!-- ========================================== -->

    <!-- Default "From" email address -->
    <record id="mail_catchall_domain" model="ir.config_parameter">
        <field name="key">mail.catchall.domain</field>
        <field name="value">mg.insightpulseai.net</field>
    </record>

    <record id="mail_default_from" model="ir.config_parameter">
        <field name="key">mail.default.from</field>
        <field name="value">notifications</field>
    </record>

    <!-- Bounce handling -->
    <record id="mail_bounce_alias" model="ir.config_parameter">
        <field name="key">mail.bounce.alias</field>
        <field name="value">bounce</field>
    </record>

    <!-- Catchall for replies -->
    <record id="mail_catchall_alias" model="ir.config_parameter">
        <field name="key">mail.catchall.alias</field>
        <field name="value">catchall</field>
    </record>

</odoo>
