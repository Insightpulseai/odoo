{
  "version": "1.0.0",
  "description": "Parity scoring rubric for capability assessment",
  "weights": {
    "workflow": 30,
    "ux": 25,
    "data": 15,
    "perm": 15,
    "report": 10,
    "perf": 5
  },
  "dimensions": {
    "workflow": {
      "weight": 30,
      "description": "Business process coverage and automation",
      "criteria": [
        "Core workflow states implemented",
        "Transition rules enforced",
        "Notifications on state changes",
        "Approval chains where required",
        "Exception handling paths"
      ]
    },
    "ux": {
      "weight": 25,
      "description": "User experience and interface quality",
      "criteria": [
        "View matches target product feel",
        "Quick actions available",
        "Responsive and accessible",
        "Intuitive navigation",
        "Consistent design tokens"
      ]
    },
    "data": {
      "weight": 15,
      "description": "Data model completeness and integrity",
      "criteria": [
        "Required fields captured",
        "Relationships modeled correctly",
        "Data validation rules",
        "History/audit trail",
        "Import/export capability"
      ]
    },
    "perm": {
      "weight": 15,
      "description": "Permission and access control",
      "criteria": [
        "Role-based access defined",
        "Field-level security where needed",
        "Record-level rules",
        "Action permissions",
        "Delegation support"
      ]
    },
    "report": {
      "weight": 10,
      "description": "Reporting and analytics",
      "criteria": [
        "Key metrics dashboards",
        "Standard reports available",
        "Export formats",
        "Scheduled reports",
        "Drill-down capability"
      ]
    },
    "perf": {
      "weight": 5,
      "description": "Performance and scalability",
      "criteria": [
        "Page load < 2s",
        "List views handle 10k+ records",
        "Search response < 1s",
        "No N+1 queries",
        "Caching where appropriate"
      ]
    }
  },
  "capability_checks": {
    "workos.workspace.space.tree": {
      "module_exists": "ipai_workos_core",
      "models": ["ipai.workos.workspace", "ipai.workos.space"],
      "views": ["workspace_tree_view", "space_tree_view"],
      "tests": ["test_workspace_create", "test_space_navigation"]
    },
    "workos.page.create.nest": {
      "module_exists": "ipai_workos_core",
      "models": ["ipai.workos.page"],
      "views": ["page_form_view", "page_tree_view"],
      "tests": ["test_page_create", "test_page_nesting"]
    },
    "workos.page.move.archive": {
      "module_exists": "ipai_workos_core",
      "models": ["ipai.workos.page"],
      "fields": ["active", "parent_id"],
      "tests": ["test_page_move", "test_page_archive"]
    },
    "workos.blocks.editor.core": {
      "module_exists": "ipai_workos_blocks",
      "models": ["ipai.workos.block"],
      "assets": ["block_editor.js", "block_editor.scss"],
      "tests": ["test_block_create", "test_block_move", "test_block_delete"]
    },
    "workos.blocks.types.basic": {
      "module_exists": "ipai_workos_blocks",
      "models": ["ipai.workos.block"],
      "selection_values": ["paragraph", "heading", "bulleted_list", "numbered_list", "todo", "toggle", "divider", "quote", "callout"],
      "tests": ["test_block_types"]
    },
    "workos.db.create.properties": {
      "module_exists": "ipai_workos_db",
      "models": ["ipai.workos.database", "ipai.workos.property"],
      "views": ["database_form_view"],
      "tests": ["test_database_create", "test_property_add"]
    },
    "workos.db.rows.inline_edit": {
      "module_exists": "ipai_workos_db",
      "models": ["ipai.workos.row"],
      "assets": ["row_editor.js"],
      "tests": ["test_row_create", "test_row_inline_edit"]
    },
    "workos.db.property.types": {
      "module_exists": "ipai_workos_db",
      "models": ["ipai.workos.property"],
      "selection_values": ["text", "number", "select", "multi_select", "date", "checkbox", "person"],
      "tests": ["test_property_types"]
    },
    "workos.views.table": {
      "module_exists": "ipai_workos_views",
      "models": ["ipai.workos.view"],
      "views": ["database_table_view"],
      "tests": ["test_table_view"]
    },
    "workos.views.kanban": {
      "module_exists": "ipai_workos_views",
      "models": ["ipai.workos.view"],
      "views": ["database_kanban_view"],
      "tests": ["test_kanban_view"]
    },
    "workos.views.calendar": {
      "module_exists": "ipai_workos_views",
      "models": ["ipai.workos.view"],
      "views": ["database_calendar_view"],
      "tests": ["test_calendar_view"]
    },
    "workos.collab.comments.page": {
      "module_exists": "ipai_workos_collab",
      "models": ["ipai.workos.comment"],
      "tests": ["test_comment_create", "test_comment_thread"]
    },
    "workos.collab.mentions.notify": {
      "module_exists": "ipai_workos_collab",
      "depends": ["mail"],
      "tests": ["test_mention_notification"]
    },
    "workos.permissions.workspace_roles": {
      "module_exists": "ipai_platform_permissions",
      "models": ["ipai.workos.permission"],
      "tests": ["test_workspace_roles"]
    },
    "workos.permissions.page_scopes": {
      "module_exists": "ipai_platform_permissions",
      "tests": ["test_page_permissions"]
    },
    "workos.search.global": {
      "module_exists": "ipai_workos_search",
      "tests": ["test_global_search"]
    }
  },
  "scoring_guide": {
    "0": "Not implemented",
    "20": "Basic skeleton only",
    "40": "Partial implementation, major gaps",
    "60": "Functional but missing polish",
    "80": "Production ready, minor gaps",
    "100": "Full parity with target"
  },
  "thresholds": {
    "p0_minimum": 70,
    "p1_minimum": 50,
    "p2_minimum": 0,
    "launch_ready": 70
  },
  "tier_thresholds": {
    "p0": {
      "minimum_score": 70,
      "block_merge_on_regression": true
    },
    "p1": {
      "minimum_score": 50,
      "block_merge_on_regression": false
    },
    "p2": {
      "minimum_score": 0,
      "block_merge_on_regression": false
    }
  }
}
