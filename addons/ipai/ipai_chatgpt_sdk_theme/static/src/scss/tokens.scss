// =============================================================================
// IPAI Design Tokens - Single Source of Truth
// =============================================================================
// These CSS custom properties define the visual language for all IPAI components.
// All widgets and UI elements should reference var(--ipai-*) instead of hardcoded values.
// Aligned with ChatGPT App SDK design system.
// =============================================================================

:root {
  // ---------------------------------------------------------------------------
  // Typography
  // ---------------------------------------------------------------------------
  --ipai-font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
  --ipai-font-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco,
    Consolas, "Liberation Mono", "Courier New", monospace;

  --ipai-font-size-xs: 0.75rem;    // 12px
  --ipai-font-size-sm: 0.875rem;   // 14px
  --ipai-font-size-base: 1rem;     // 16px
  --ipai-font-size-lg: 1.125rem;   // 18px
  --ipai-font-size-xl: 1.25rem;    // 20px

  --ipai-font-weight-normal: 400;
  --ipai-font-weight-medium: 500;
  --ipai-font-weight-semibold: 600;
  --ipai-font-weight-bold: 700;

  --ipai-line-height: 1.5;
  --ipai-line-height-tight: 1.25;

  // ---------------------------------------------------------------------------
  // Spacing
  // ---------------------------------------------------------------------------
  --ipai-space-1: 0.25rem;   // 4px
  --ipai-space-2: 0.5rem;    // 8px
  --ipai-space-3: 0.75rem;   // 12px
  --ipai-space-4: 1rem;      // 16px
  --ipai-space-5: 1.25rem;   // 20px
  --ipai-space-6: 1.5rem;    // 24px
  --ipai-space-8: 2rem;      // 32px
  --ipai-space-10: 2.5rem;   // 40px
  --ipai-space-12: 3rem;     // 48px

  // ---------------------------------------------------------------------------
  // Border Radius
  // ---------------------------------------------------------------------------
  --ipai-radius-sm: 8px;
  --ipai-radius: 12px;
  --ipai-radius-lg: 16px;
  --ipai-radius-xl: 20px;
  --ipai-radius-full: 9999px;

  // ---------------------------------------------------------------------------
  // Colors - Light Theme (Default)
  // ---------------------------------------------------------------------------
  // Background and surface colors
  --ipai-bg: #ffffff;
  --ipai-bg-subtle: #f8fafc;
  --ipai-bg-muted: #f1f5f9;
  --ipai-bg-hover: #f1f5f9;
  --ipai-bg-active: #e2e8f0;

  // Foreground/text colors
  --ipai-fg: #0f172a;
  --ipai-fg-muted: #64748b;
  --ipai-fg-subtle: #94a3b8;
  --ipai-fg-inverted: #ffffff;

  // Card/panel surfaces
  --ipai-card-bg: #ffffff;
  --ipai-card-bg-hover: #fafafa;

  // Borders
  --ipai-border: rgba(15, 23, 42, 0.10);
  --ipai-border-strong: rgba(15, 23, 42, 0.16);
  --ipai-border-muted: rgba(15, 23, 42, 0.06);

  // Primary action (dark neutral - ChatGPT style)
  --ipai-primary: #111827;
  --ipai-primary-hover: #1f2937;
  --ipai-primary-active: #374151;
  --ipai-primary-fg: #ffffff;

  // Secondary action
  --ipai-secondary: #64748b;
  --ipai-secondary-hover: #475569;
  --ipai-secondary-active: #334155;
  --ipai-secondary-fg: #ffffff;

  // Accent (for highlights, links)
  --ipai-accent: #0ea5e9;
  --ipai-accent-hover: #0284c7;
  --ipai-accent-fg: #ffffff;

  // Success state
  --ipai-success: #16a34a;
  --ipai-success-hover: #15803d;
  --ipai-success-bg: #dcfce7;
  --ipai-success-fg: #ffffff;

  // Warning state
  --ipai-warning: #f59e0b;
  --ipai-warning-hover: #d97706;
  --ipai-warning-bg: #fef3c7;
  --ipai-warning-fg: #ffffff;

  // Danger/error state
  --ipai-danger: #dc2626;
  --ipai-danger-hover: #b91c1c;
  --ipai-danger-bg: #fee2e2;
  --ipai-danger-fg: #ffffff;

  // Info state
  --ipai-info: #0ea5e9;
  --ipai-info-hover: #0284c7;
  --ipai-info-bg: #e0f2fe;
  --ipai-info-fg: #ffffff;

  // ---------------------------------------------------------------------------
  // Input/Form styling
  // ---------------------------------------------------------------------------
  --ipai-input-bg: #ffffff;
  --ipai-input-bg-disabled: #f1f5f9;
  --ipai-input-border: rgba(15, 23, 42, 0.14);
  --ipai-input-border-hover: rgba(15, 23, 42, 0.24);
  --ipai-input-border-focus: var(--ipai-accent);
  --ipai-input-placeholder: #94a3b8;

  // Focus ring (accessibility)
  --ipai-focus: rgba(14, 165, 233, 0.35);
  --ipai-focus-ring: 0 0 0 3px var(--ipai-focus);

  // ---------------------------------------------------------------------------
  // Shadows - Subtle, clean system
  // ---------------------------------------------------------------------------
  --ipai-shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
  --ipai-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
  --ipai-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);
  --ipai-shadow-md: 0 6px 12px -2px rgba(0, 0, 0, 0.08), 0 3px 6px -2px rgba(0, 0, 0, 0.04);
  --ipai-shadow-lg: 0 10px 24px -3px rgba(0, 0, 0, 0.10), 0 4px 8px -2px rgba(0, 0, 0, 0.04);
  --ipai-shadow-xl: 0 20px 40px -4px rgba(0, 0, 0, 0.12), 0 8px 16px -4px rgba(0, 0, 0, 0.04);

  // Inset shadow for inputs
  --ipai-shadow-inset: inset 0 1px 2px rgba(0, 0, 0, 0.06);

  // ---------------------------------------------------------------------------
  // Transitions
  // ---------------------------------------------------------------------------
  --ipai-transition-fast: 100ms ease;
  --ipai-transition: 150ms ease;
  --ipai-transition-slow: 300ms ease;

  // ---------------------------------------------------------------------------
  // Z-index layers
  // ---------------------------------------------------------------------------
  --ipai-z-dropdown: 1000;
  --ipai-z-sticky: 1020;
  --ipai-z-fixed: 1030;
  --ipai-z-modal-backdrop: 1040;
  --ipai-z-modal: 1050;
  --ipai-z-popover: 1060;
  --ipai-z-tooltip: 1070;

  // ---------------------------------------------------------------------------
  // Chat/AI specific tokens
  // ---------------------------------------------------------------------------
  --ipai-chat-user-bg: var(--ipai-primary);
  --ipai-chat-user-fg: var(--ipai-primary-fg);
  --ipai-chat-assistant-bg: var(--ipai-bg-muted);
  --ipai-chat-assistant-fg: var(--ipai-fg);
  --ipai-chat-bubble-radius: var(--ipai-radius);
  --ipai-chat-input-radius: var(--ipai-radius-sm);
}

// Dark theme support (future-proofing)
@media (prefers-color-scheme: dark) {
  :root.ipai-theme-auto {
    --ipai-bg: #0f172a;
    --ipai-bg-subtle: #1e293b;
    --ipai-bg-muted: #334155;
    --ipai-bg-hover: #334155;
    --ipai-bg-active: #475569;

    --ipai-fg: #f8fafc;
    --ipai-fg-muted: #94a3b8;
    --ipai-fg-subtle: #64748b;
    --ipai-fg-inverted: #0f172a;

    --ipai-card-bg: #1e293b;
    --ipai-card-bg-hover: #334155;

    --ipai-border: rgba(248, 250, 252, 0.10);
    --ipai-border-strong: rgba(248, 250, 252, 0.16);
    --ipai-border-muted: rgba(248, 250, 252, 0.06);

    --ipai-primary: #f8fafc;
    --ipai-primary-hover: #e2e8f0;
    --ipai-primary-active: #cbd5e1;
    --ipai-primary-fg: #0f172a;

    --ipai-input-bg: #1e293b;
    --ipai-input-bg-disabled: #334155;
    --ipai-input-border: rgba(248, 250, 252, 0.14);
    --ipai-input-border-hover: rgba(248, 250, 252, 0.24);

    --ipai-chat-user-bg: var(--ipai-primary);
    --ipai-chat-user-fg: var(--ipai-primary-fg);
    --ipai-chat-assistant-bg: var(--ipai-bg-subtle);
    --ipai-chat-assistant-fg: var(--ipai-fg);
  }
}

// Explicit dark theme class
:root.ipai-theme-dark {
  --ipai-bg: #0f172a;
  --ipai-bg-subtle: #1e293b;
  --ipai-bg-muted: #334155;
  --ipai-bg-hover: #334155;
  --ipai-bg-active: #475569;

  --ipai-fg: #f8fafc;
  --ipai-fg-muted: #94a3b8;
  --ipai-fg-subtle: #64748b;
  --ipai-fg-inverted: #0f172a;

  --ipai-card-bg: #1e293b;
  --ipai-card-bg-hover: #334155;

  --ipai-border: rgba(248, 250, 252, 0.10);
  --ipai-border-strong: rgba(248, 250, 252, 0.16);
  --ipai-border-muted: rgba(248, 250, 252, 0.06);

  --ipai-primary: #f8fafc;
  --ipai-primary-hover: #e2e8f0;
  --ipai-primary-active: #cbd5e1;
  --ipai-primary-fg: #0f172a;

  --ipai-input-bg: #1e293b;
  --ipai-input-bg-disabled: #334155;
  --ipai-input-border: rgba(248, 250, 252, 0.14);
  --ipai-input-border-hover: rgba(248, 250, 252, 0.24);

  --ipai-chat-user-bg: var(--ipai-primary);
  --ipai-chat-user-fg: var(--ipai-primary-fg);
  --ipai-chat-assistant-bg: var(--ipai-bg-subtle);
  --ipai-chat-assistant-fg: var(--ipai-fg);
}

// =============================================================================
// TBWA Brand Token Overrides
// =============================================================================
// Overrides IPAI tokens with TBWA brand colors while preserving the design system structure
// =============================================================================

:root {
  // TBWA Brand Colors
  --tbwa-yellow: #ffc400;
  --tbwa-yellow-hover: #e5ae00;
  --tbwa-black: #0b0b0b;

  // Override primary action colors with TBWA Yellow
  --ipai-primary: var(--tbwa-yellow);
  --ipai-primary-hover: var(--tbwa-yellow-hover);
  --ipai-primary-active: #ccb800;
  --ipai-primary-fg: var(--tbwa-black);

  // Focus ring uses TBWA Yellow
  --ipai-focus: rgba(255, 196, 0, 0.45);
  --ipai-focus-ring: 0 0 0 3px var(--ipai-focus);
  --ipai-input-border-focus: var(--tbwa-yellow);

  // Background colors (light neutral for readability)
  --ipai-bg: #f5f5f5;
  --ipai-bg-subtle: #fafafa;
  --ipai-bg-muted: #ebebeb;
  --ipai-card-bg: #ffffff;

  // Borders (light gray for enterprise ERP feel)
  --ipai-border: #eaeaea;
  --ipai-border-strong: #e0e0e0;

  // Info state - Blue (not yellow)
  --ipai-info: #2563EB;
  --ipai-info-hover: #1D4ED8;
  --ipai-info-bg: #DBEAFE;
}
