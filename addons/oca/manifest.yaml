# OCA Modules Manifest
# Maps Enterprise modules to OCA replacements

version: "18.0"
updated: "2026-01-06"

# =============================================================================
# Agent Framework Dependencies (Auto-Claude / Skill Runtime)
# =============================================================================

agent_framework:
  description: "OCA modules powering the Auto-Claude agent framework"

  queue:
    description: "Background job execution for async skill runs"
    repos:
      - https://github.com/OCA/queue
    branch: "18.0"
    modules:
      - queue_job           # Core async job queue
      - queue_job_cron      # Run Scheduled Actions as queue jobs
      - queue_job_batch     # Fan-out/fan-in batches

  rest_framework:
    description: "REST API endpoints for skill/tool calling"
    repos:
      - https://github.com/OCA/rest-framework
    branch: "18.0"
    modules:
      - base_rest           # High-level REST APIs + OpenAPI
      - base_rest_pydantic  # Pydantic DTOs for schema validation

  connector:
    description: "Component registry for skills-as-plugins"
    repos:
      - https://github.com/OCA/connector
    branch: "18.0"
    modules:
      - component           # Decoupled components registry
      - component_event     # Event hooks

  server_auth:
    description: "API authentication for agent-to-Odoo calls"
    repos:
      - https://github.com/OCA/server-auth
    branch: "18.0"
    modules:
      - auth_jwt            # JWT bearer auth
      - auth_api_key        # API key auth

  server_env:
    description: "Environment-based configuration"
    repos:
      - https://github.com/OCA/server-env
    branch: "18.0"
    modules:
      - server_environment  # Move config out of DB

  automation:
    description: "Automation triggers for agent runs"
    repos:
      - https://github.com/OCA/automation
    branch: "18.0"
    modules:
      - automation_oca      # Rules/automation on threaded models

  server_tools:
    description: "Ops and maintainability utilities"
    repos:
      - https://github.com/OCA/server-tools
    branch: "18.0"
    modules:
      - module_analysis     # Module audit (core vs OCA vs custom)
      - module_auto_update  # Automatic module updates

# =============================================================================
# Enterprise Replacement Mappings
# =============================================================================

replacements:
  # Enterprise Module -> OCA Replacement(s)

  accountant:
    description: "Advanced accounting features"
    oca_modules:
      - account-financial-report
      - mis-builder
      - mis-builder-budget
      - account-asset-management
      - account-reconcile-oca
    repos:
      - https://github.com/OCA/account-financial-reporting
      - https://github.com/OCA/mis-builder
      - https://github.com/OCA/account-financial-tools
    parity: "95%"
    notes: "Full replacement except for some automated entries"

  mrp_workorder:
    description: "MRP II work orders"
    oca_modules:
      - mrp-multi-level
      - mrp-multi-level-estimate
      - mrp-production-request
      - mrp-workorder-sequence
    repos:
      - https://github.com/OCA/manufacture
    parity: "90%"
    notes: "Missing tablet view, but core functionality covered"

  hr_appraisal:
    description: "Employee appraisals"
    oca_modules:
      - hr-appraisal
    repos:
      - https://github.com/OCA/hr
    parity: "85%"
    notes: "Basic appraisal flow, customize for goals"

  timesheet_grid:
    description: "Timesheet grid view"
    oca_modules:
      - hr-timesheet-sheet
      - hr-timesheet-task-required
      - project-timesheet-time-control
    repos:
      - https://github.com/OCA/timesheet
      - https://github.com/OCA/project
    parity: "90%"
    notes: "Grid view via sheet, slightly different UX"

  sale_subscription:
    description: "Recurring subscriptions"
    oca_modules:
      - sale-subscription
    repos:
      - https://github.com/OCA/sale-workflow
    parity: "80%"
    notes: "Core subscription logic, may need customization"

  helpdesk:
    description: "Helpdesk ticketing"
    oca_modules:
      - helpdesk-mgmt
      - helpdesk-mgmt-timesheet
      - helpdesk-mgmt-project
    repos:
      - https://github.com/OCA/helpdesk
    parity: "85%"
    notes: "Full ticketing, SLA via custom fields"

  planning:
    description: "Resource planning"
    oca_modules:
      - project-timeline
      - project-stage-closed
      - project-task-dependency
    repos:
      - https://github.com/OCA/project
    parity: "75%"
    notes: "Timeline view available, Gantt needs frontend work"

  quality_control:
    description: "Quality management"
    oca_modules:
      - quality-control
      - quality-control-stock
    repos:
      - https://github.com/OCA/manufacture
    parity: "70%"
    notes: "Basic QC, advanced metrics via Control Room"

  social:
    description: "Social media marketing"
    replacement_type: "n8n"
    n8n_nodes:
      - n8n-nodes-facebook
      - n8n-nodes-linkedin
      - n8n-nodes-twitter
    parity: "60%"
    notes: "n8n workflows for posting, no unified dashboard"

# Control Room custom replacements (not OCA)
custom_replacements:
  knowledge:
    replacement: "control_room.kb"
    description: "Knowledge base with lineage"

  web_studio:
    replacement: "control_room.studio"
    description: "Form builder and view designer"

  sign:
    replacement: "control_room.sign"
    description: "E-signature with DocuSign integration"

  appointment:
    replacement: "control_room.booking"
    description: "Appointment scheduling"

  industry_fsm:
    replacement: "control_room.fsm"
    description: "Field service management"

  stock_barcode:
    replacement: "control_room.barcode"
    description: "Mobile barcode scanning"

  web_mobile:
    replacement: "control_room.mobile"
    description: "Mobile API and push notifications"
