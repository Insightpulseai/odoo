<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Dataset Creation Wizard -->
    
    <record id="superset_dataset_wizard_view_form" model="ir.ui.view">
        <field name="name">superset.dataset.wizard.form</field>
        <field name="model">superset.dataset.wizard</field>
        <field name="arch" type="xml">
            <form string="Create Superset Dataset">
                <group>
                    <group string="Connection">
                        <field name="connection_id"/>
                    </group>
                    <group string="Source">
                        <field name="model_id"/>
                        <field name="category"/>
                    </group>
                </group>
                <group>
                    <group string="Dataset Info">
                        <field name="name"/>
                        <field name="technical_name"/>
                    </group>
                    <group string="Options">
                        <field name="include_all_fields"/>
                        <field name="enable_rls"/>
                        <field name="create_view"/>
                        <field name="sync_to_superset"/>
                    </group>
                </group>
                <group invisible="include_all_fields">
                    <field name="field_ids" widget="many2many_tags" 
                           options="{'no_create': True}"/>
                </group>
                <footer>
                    <button name="action_create_dataset" type="object" 
                            string="Create Dataset" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_superset_dataset_wizard" model="ir.actions.act_window">
        <field name="name">Create Dataset</field>
        <field name="res_model">superset.dataset.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

    <!-- Bulk Dataset Wizard -->
    <record id="superset_bulk_dataset_wizard_view_form" model="ir.ui.view">
        <field name="name">superset.bulk.dataset.wizard.form</field>
        <field name="model">superset.bulk.dataset.wizard</field>
        <field name="arch" type="xml">
            <form string="Bulk Create Datasets">
                <group>
                    <field name="connection_id"/>
                    <field name="preset"/>
                    <field name="create_analytics_views"/>
                </group>
                <footer>
                    <button name="action_create_datasets" type="object" 
                            string="Create Datasets" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_superset_bulk_dataset_wizard" model="ir.actions.act_window">
        <field name="name">Bulk Create Datasets</field>
        <field name="res_model">superset.bulk.dataset.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

    <!-- Menu Items for Wizards -->
    <menuitem id="menu_superset_create_dataset"
              name="Create Dataset"
              parent="menu_superset_root"
              action="action_superset_dataset_wizard"
              sequence="40"/>
    
    <menuitem id="menu_superset_bulk_create"
              name="Bulk Create"
              parent="menu_superset_root"
              action="action_superset_bulk_dataset_wizard"
              sequence="50"/>

</odoo>
