<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ==================== Sequences ==================== -->

    <record id="seq_control_pipeline" model="ir.sequence">
        <field name="name">Control Pipeline</field>
        <field name="code">control.pipeline</field>
        <field name="prefix">PIPE-</field>
        <field name="padding">5</field>
    </record>

    <record id="seq_control_run" model="ir.sequence">
        <field name="name">Control Run</field>
        <field name="code">control.run</field>
        <field name="prefix">RUN-</field>
        <field name="padding">8</field>
    </record>

    <record id="seq_control_dq_rule" model="ir.sequence">
        <field name="name">Control DQ Rule</field>
        <field name="code">control.dq.rule</field>
        <field name="prefix">DQR-</field>
        <field name="padding">5</field>
    </record>

    <record id="seq_control_dq_issue" model="ir.sequence">
        <field name="name">Control DQ Issue</field>
        <field name="code">control.dq.issue</field>
        <field name="prefix">DQI-</field>
        <field name="padding">6</field>
    </record>

    <record id="seq_control_advice" model="ir.sequence">
        <field name="name">Control Advice</field>
        <field name="code">control.advice</field>
        <field name="prefix">ADV-</field>
        <field name="padding">5</field>
    </record>

    <!-- ==================== Default Environments ==================== -->

    <record id="env_development" model="control.env">
        <field name="name">Development</field>
        <field name="code">dev</field>
        <field name="sequence">10</field>
        <field name="description">Local development environment</field>
        <field name="color">3</field>
    </record>

    <record id="env_staging" model="control.env">
        <field name="name">Staging</field>
        <field name="code">staging</field>
        <field name="sequence">20</field>
        <field name="description">Pre-production testing environment</field>
        <field name="color">4</field>
    </record>

    <record id="env_production" model="control.env">
        <field name="name">Production</field>
        <field name="code">prod</field>
        <field name="sequence">30</field>
        <field name="description">Production environment</field>
        <field name="color">1</field>
    </record>

    <!-- ==================== Sample Playbooks ==================== -->

    <record id="playbook_incident_response" model="control.playbook">
        <field name="name">Incident Response</field>
        <field name="code">INCIDENT_RESPONSE</field>
        <field name="category">incident</field>
        <field name="trigger_type">manual</field>
        <field name="steps_json">[
    {"step": 1, "title": "Acknowledge incident", "description": "Confirm the incident and assign owner"},
    {"step": 2, "title": "Assess impact", "description": "Determine scope and severity"},
    {"step": 3, "title": "Communicate status", "description": "Notify stakeholders"},
    {"step": 4, "title": "Investigate root cause", "description": "Analyze logs and metrics"},
    {"step": 5, "title": "Implement fix", "description": "Apply remediation"},
    {"step": 6, "title": "Verify resolution", "description": "Confirm issue is resolved"},
    {"step": 7, "title": "Post-mortem", "description": "Document lessons learned"}
]</field>
        <field name="description">Standard incident response procedure for pipeline failures</field>
    </record>

    <record id="playbook_dq_remediation" model="control.playbook">
        <field name="name">Data Quality Remediation</field>
        <field name="code">DQ_REMEDIATION</field>
        <field name="category">dq_fix</field>
        <field name="trigger_type">dq_fail</field>
        <field name="steps_json">[
    {"step": 1, "title": "Identify affected data", "description": "Determine scope of data quality issue"},
    {"step": 2, "title": "Analyze root cause", "description": "Find source of bad data"},
    {"step": 3, "title": "Fix source system", "description": "Correct the upstream issue"},
    {"step": 4, "title": "Clean affected data", "description": "Remediate existing bad records"},
    {"step": 5, "title": "Re-run validation", "description": "Verify data quality checks pass"},
    {"step": 6, "title": "Update monitoring", "description": "Add/adjust rules to prevent recurrence"}
]</field>
        <field name="description">Standard procedure for remediating data quality issues</field>
    </record>
</odoo>
