<?xml version="1.0" encoding="utf-8"?>
<odoo noupdate="1">
    <!-- Phase I: Initial & Compliance -->
    <record id="tmpl_payroll" model="finance.task.template">
        <field name="name">Process Payroll, Final Pay, SL Conversions</field>
        <field name="sequence">1</field><field name="task_type">month_end</field><field name="phase">I</field>
        <field name="prep_day_offset">-6</field><field name="review_day_offset">-5</field><field name="approve_day_offset">-4</field>
        <field name="odoo_model">hr.payslip</field><field name="oca_module">hr_payroll_account</field>
    </record>
    <record id="tmpl_tax_provision" model="finance.task.template">
        <field name="name">Calculate Tax Provision &amp; PPB Provision</field>
        <field name="sequence">2</field><field name="task_type">month_end</field><field name="phase">I</field>
        <field name="prep_day_offset">-6</field><field name="review_day_offset">-5</field><field name="approve_day_offset">-4</field>
        <field name="odoo_model">account.move</field><field name="oca_module">account_tax_balance</field>
    </record>
    <record id="tmpl_vat_report" model="finance.task.template">
        <field name="name">Compile Monthly VAT Report</field>
        <field name="sequence">3</field><field name="task_type">month_end</field><field name="phase">I</field>
        <field name="prep_day_offset">-6</field><field name="review_day_offset">-5</field><field name="approve_day_offset">-4</field>
        <field name="odoo_model">account.tax.report</field><field name="oca_module">l10n_ph_tax</field>
    </record>
    <record id="tmpl_input_vat" model="finance.task.template">
        <field name="name">Record Input VAT &amp; Cumulative VAT Summary</field>
        <field name="sequence">4</field><field name="task_type">month_end</field><field name="phase">I</field>
        <field name="prep_day_offset">-5</field><field name="review_day_offset">-4</field><field name="approve_day_offset">-3</field>
    </record>
    <record id="tmpl_ca_project" model="finance.task.template">
        <field name="name">Process CA Liquidations (Project-Related)</field>
        <field name="sequence">5</field><field name="task_type">month_end</field><field name="phase">I</field>
        <field name="prep_day_offset">-5</field><field name="review_day_offset">-4</field><field name="approve_day_offset">-3</field>
        <field name="odoo_model">hr.expense.sheet</field><field name="oca_module">hr_expense_advance_clearing</field>
    </record>
    <record id="tmpl_ca_employee" model="finance.task.template">
        <field name="name">Process CA Liquidations (Employee Submitted)</field>
        <field name="sequence">6</field><field name="task_type">month_end</field><field name="phase">I</field>
        <field name="prep_day_offset">-5</field><field name="review_day_offset">-4</field><field name="approve_day_offset">-3</field>
    </record>

    <!-- Phase II: Accruals & Amortization -->
    <record id="tmpl_consultancy_accrual" model="finance.task.template">
        <field name="name">Record Consultancy Fees &amp; General Expense Accruals</field>
        <field name="sequence">7</field><field name="task_type">month_end</field><field name="phase">II</field>
        <field name="prep_day_offset">-5</field><field name="review_day_offset">-4</field><field name="approve_day_offset">-3</field>
        <field name="odoo_model">account.move</field><field name="oca_module">account_cutoff_accrual_order_base</field>
    </record>
    <record id="tmpl_mgmt_royalty" model="finance.task.template">
        <field name="name">Accrue Management &amp; Royalty Fees</field>
        <field name="sequence">8</field><field name="task_type">month_end</field><field name="phase">II</field>
        <field name="prep_day_offset">-5</field><field name="review_day_offset">-4</field><field name="approve_day_offset">-3</field>
    </record>
    <record id="tmpl_revenue_recognition" model="finance.task.template">
        <field name="name">Recognize Revenue &amp; Billable Costs</field>
        <field name="sequence">9</field><field name="task_type">month_end</field><field name="phase">II</field>
        <field name="prep_day_offset">-4</field><field name="review_day_offset">-3</field><field name="approve_day_offset">-2</field>
        <field name="oca_module">sale_timesheet</field>
    </record>
    <record id="tmpl_recurring_expenses" model="finance.task.template">
        <field name="name">Accrue Recurring Expenses (Non-Fixed Assets)</field>
        <field name="sequence">10</field><field name="task_type">month_end</field><field name="phase">II</field>
        <field name="prep_day_offset">-4</field><field name="review_day_offset">-3</field><field name="approve_day_offset">-2</field>
    </record>
    <record id="tmpl_depreciation" model="finance.task.template">
        <field name="name">Record Depreciation &amp; Technology License Amortization</field>
        <field name="sequence">15</field><field name="task_type">month_end</field><field name="phase">II</field>
        <field name="prep_day_offset">-4</field><field name="review_day_offset">-3</field><field name="approve_day_offset">-2</field>
        <field name="odoo_model">account.asset</field><field name="oca_module">account_asset_management</field>
    </record>
    <record id="tmpl_fx_reval" model="finance.task.template">
        <field name="name">Revalue Intercompany Balances (FX)</field>
        <field name="sequence">21</field><field name="task_type">month_end</field><field name="phase">II</field>
        <field name="prep_day_offset">-3</field><field name="review_day_offset">-2</field><field name="approve_day_offset">-1</field>
        <field name="oca_module">account_multicurrency_revaluation</field>
    </record>

    <!-- Phase III: WIP -->
    <record id="tmpl_wip_reclass" model="finance.task.template">
        <field name="name">Reclassify OOP to WIP / WIP to OOP</field>
        <field name="sequence">23</field><field name="task_type">month_end</field><field name="phase">III</field>
        <field name="prep_day_offset">-3</field><field name="review_day_offset">-2</field><field name="approve_day_offset">-1</field>
        <field name="oca_module">project_wip</field>
    </record>
    <record id="tmpl_wip_schedule" model="finance.task.template">
        <field name="name">Prepare WIP Schedule Summary per Job#</field>
        <field name="sequence">24</field><field name="task_type">month_end</field><field name="phase">III</field>
        <field name="prep_day_offset">-3</field><field name="review_day_offset">-2</field><field name="approve_day_offset">-1</field>
    </record>

    <!-- Phase IV: Final Adjustments & Close -->
    <record id="tmpl_reversals" model="finance.task.template">
        <field name="name">Reverse Prior Month Temporary JEs</field>
        <field name="sequence">25</field><field name="task_type">month_end</field><field name="phase">IV</field>
        <field name="prep_day_offset">-2</field><field name="review_day_offset">-1</field><field name="approve_day_offset">0</field>
        <field name="oca_module">account_move_reversal</field>
    </record>
    <record id="tmpl_flash_reports" model="finance.task.template">
        <field name="name">Prepare Flash, Wins &amp; Losses, Revenue Reports</field>
        <field name="sequence">27</field><field name="task_type">month_end</field><field name="phase">IV</field>
        <field name="prep_day_offset">-2</field><field name="review_day_offset">-1</field><field name="approve_day_offset">0</field>
        <field name="oca_module">account_financial_report</field>
    </record>
    <record id="tmpl_ar_aging" model="finance.task.template">
        <field name="name">Prepare Working Capital Report (AR)</field>
        <field name="sequence">28</field><field name="task_type">month_end</field><field name="phase">IV</field>
        <field name="prep_day_offset">-2</field><field name="review_day_offset">-1</field><field name="approve_day_offset">0</field>
    </record>
    <record id="tmpl_ap_aging" model="finance.task.template">
        <field name="name">Prepare AP Aging Report</field>
        <field name="sequence">29</field><field name="task_type">month_end</field><field name="phase">IV</field>
        <field name="prep_day_offset">-2</field><field name="review_day_offset">-1</field><field name="approve_day_offset">0</field>
    </record>
    <record id="tmpl_final_tb" model="finance.task.template">
        <field name="name">Final TB Review</field>
        <field name="sequence">35</field><field name="task_type">month_end</field><field name="phase">IV</field>
        <field name="prep_day_offset">-1</field><field name="review_day_offset">-1</field><field name="approve_day_offset">0</field>
    </record>
    <record id="tmpl_tb_signoff" model="finance.task.template">
        <field name="name">Final TB Sign-off &amp; Filing</field>
        <field name="sequence">36</field><field name="task_type">month_end</field><field name="phase">IV</field>
        <field name="prep_day_offset">0</field><field name="review_day_offset">0</field><field name="approve_day_offset">0</field>
        <field name="oca_module">account_fiscal_year_closing</field>
    </record>
</odoo>
