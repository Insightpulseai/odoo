<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Security Groups -->
    <record id="group_ipai_project_manager" model="res.groups">
        <field name="name">IPAI Project Manager</field>
        <field name="category_id" ref="base.module_category_project_management"/>
        <field name="comment">Full access to IPAI Project Suite features including milestones, budgets, and templates.</field>
    </record>

    <record id="group_ipai_project_contributor" model="res.groups">
        <field name="name">IPAI Project Contributor</field>
        <field name="category_id" ref="base.module_category_project_management"/>
        <field name="comment">Read access to IPAI Project Suite features, can update tasks and dependencies.</field>
    </record>

    <record id="group_ipai_project_finance" model="res.groups">
        <field name="name">IPAI Project Finance</field>
        <field name="category_id" ref="base.module_category_project_management"/>
        <field name="comment">Access to project budgets and financial reporting.</field>
    </record>

    <!-- Record Rules -->
    <record id="rule_ipai_milestone_company" model="ir.rule">
        <field name="name">IPAI Milestone: Company Rule</field>
        <field name="model_id" ref="model_ipai_project_milestone"/>
        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
    </record>

    <record id="rule_ipai_budget_company" model="ir.rule">
        <field name="name">IPAI Budget: Company Rule</field>
        <field name="model_id" ref="model_ipai_project_budget"/>
        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
    </record>

    <record id="rule_ipai_raci_company" model="ir.rule">
        <field name="name">IPAI RACI: Company Rule</field>
        <field name="model_id" ref="model_ipai_project_raci"/>
        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
    </record>
</odoo>
