# =============================================================================
# OCA Git Aggregator Configuration
# =============================================================================
# Use OCA's git-aggregator for deterministic dependency management.
#
# Install:
#   pip install git-aggregator
#
# Usage:
#   gitaggregate -c oca-aggregate.yml
#
# This clones/pins OCA repos to exact commits without submodule headaches.
# =============================================================================

./addons/oca:
  defaults:
    depth: 1

  remotes:
    server-tools: https://github.com/OCA/server-tools.git
    server-ux: https://github.com/OCA/server-ux.git
    web: https://github.com/OCA/web.git
    automation: https://github.com/OCA/automation.git
    account-financial-tools: https://github.com/OCA/account-financial-tools.git
    account-financial-reporting: https://github.com/OCA/account-financial-reporting.git
    project: https://github.com/OCA/project.git
    queue: https://github.com/OCA/queue.git
    reporting-engine: https://github.com/OCA/reporting-engine.git
    sale-workflow: https://github.com/OCA/sale-workflow.git
    purchase-workflow: https://github.com/OCA/purchase-workflow.git
    server-backend: https://github.com/OCA/server-backend.git
    mis-builder: https://github.com/OCA/mis-builder.git
    spreadsheet: https://github.com/OCA/spreadsheet.git
    knowledge: https://github.com/OCA/knowledge.git
    dms: https://github.com/OCA/dms.git
    rest-framework: https://github.com/OCA/rest-framework.git
    social: https://github.com/OCA/social.git
    account-reconcile: https://github.com/OCA/account-reconcile.git
    hr-expense: https://github.com/OCA/hr-expense.git
    contract: https://github.com/OCA/contract.git
    timesheet: https://github.com/OCA/timesheet.git
    connector: https://github.com/OCA/connector.git
    storage: https://github.com/OCA/storage.git
    ai: https://github.com/OCA/ai.git

  # ==========================================================================
  # Essential OCA Repos (19.0 branches)
  # Install order: Foundation → Platform UX → Apps
  # ==========================================================================
  merges:
    # Tier 0: Foundation
    - server-tools 19.0
    - server-ux 19.0

    # Tier 1: Platform UX
    - web 19.0

    # Tier 2: Automation (CE marketing automation alternative)
    - automation 19.0

    # Tier 4: Financial Reporting & Tools
    - account-financial-tools 19.0
    - account-financial-reporting 19.0

    # Tier 3: Project Management (Finance PPM dependency)
    - project 19.0

    # Tier 5: Background Processing (Agent runtime)
    - queue 19.0

    # Tier 6: Reporting Engine
    - reporting-engine 19.0

    # Tier 9: Workflow Extensions
    - sale-workflow 19.0
    - purchase-workflow 19.0

    # Extended Platform (Enabled for odoo.conf alignment)
    - server-backend 19.0
    - mis-builder 19.0
    - spreadsheet 19.0
    - knowledge 19.0
    - dms 19.0
    - rest-framework 19.0
    - social 19.0
    - account-reconcile 19.0
    - hr-expense 19.0
    - contract 19.0
    - timesheet 19.0
    - connector 19.0
    - storage 19.0
    - ai 19.0
