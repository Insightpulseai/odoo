/*
 * TBWA Chatter / Mail Styles
 * ==========================
 * Styled messaging, activity, and collaboration features
 */

// ============================================================================
// CHATTER CONTAINER
// ============================================================================
.o_Chatter {
  background-color: var(--tbwa-bg);
  border-left: 1px solid var(--tbwa-border);

  // Chatter header
  .o_Chatter_header {
    padding: 1rem;
    border-bottom: 1px solid var(--tbwa-border);
  }
}

// ============================================================================
// MESSAGE LIST
// ============================================================================
.o_Message {
  padding: 1rem;
  border-bottom: 1px solid var(--tbwa-border);
  transition: background-color 100ms ease;

  &:hover {
    background-color: var(--tbwa-surface);
  }

  // Message author
  .o_Message_authorName {
    color: var(--tbwa-text-primary);
    font-weight: 600;
  }

  // Message date
  .o_Message_date {
    color: var(--tbwa-text-secondary);
    font-size: 0.75rem;
  }

  // Message content
  .o_Message_content {
    color: var(--tbwa-text-primary);
    line-height: 1.5;

    // Links in messages
    a {
      color: var(--tbwa-primary);

      &:hover {
        text-decoration: underline;
      }
    }
  }

  // Message avatar
  .o_Message_authorAvatar {
    border-radius: 50%;
    border: 2px solid var(--tbwa-border);
  }

  // System messages (notes)
  &.o_Message_note {
    background-color: rgba(251, 191, 36, 0.05);
    border-left: 3px solid var(--tbwa-accent);
  }

  // Notification messages
  &.o_Message_notification {
    background-color: var(--tbwa-surface);
    font-style: italic;
    color: var(--tbwa-text-secondary);
  }
}

// ============================================================================
// COMPOSER
// ============================================================================
.o_Composer {
  background-color: var(--tbwa-surface-elevated);
  border: 1px solid var(--tbwa-border);
  border-radius: var(--tbwa-radius-md);
  margin: 1rem;

  // Composer input
  .o_Composer_input {
    textarea {
      border: none;
      background: transparent;
      resize: none;

      &:focus {
        box-shadow: none;
      }
    }
  }

  // Composer buttons
  .o_Composer_buttons {
    border-top: 1px solid var(--tbwa-border);
    padding: 0.5rem;

    .btn {
      border-radius: var(--tbwa-radius-sm);
    }

    // Send button
    .o_Composer_buttonSend {
      background-color: var(--tbwa-primary);
      color: var(--tbwa-text-on-primary);

      &:hover {
        background-color: var(--tbwa-primary-hover);
      }
    }
  }

  // Attachment area
  .o_Composer_attachments {
    padding: 0.5rem;
    border-top: 1px solid var(--tbwa-border);
  }
}

// ============================================================================
// ACTIVITY WIDGET
// ============================================================================
.o_Activity {
  padding: 0.75rem;
  border-radius: var(--tbwa-radius-md);
  margin-bottom: 0.5rem;
  background-color: var(--tbwa-surface);

  // Activity icon
  .o_Activity_icon {
    color: var(--tbwa-accent);
  }

  // Activity summary
  .o_Activity_summary {
    color: var(--tbwa-text-primary);
    font-weight: 500;
  }

  // Activity due date
  .o_Activity_dueDate {
    font-size: 0.75rem;

    &.text-danger {
      color: var(--tbwa-danger) !important;
    }

    &.text-warning {
      color: var(--tbwa-warning) !important;
    }

    &.text-success {
      color: var(--tbwa-success) !important;
    }
  }

  // Activity actions
  .o_Activity_actions {
    .btn-link {
      color: var(--tbwa-primary);

      &:hover {
        color: var(--tbwa-primary-hover);
      }
    }
  }
}

// ============================================================================
// FOLLOWERS
// ============================================================================
.o_Followers {
  .o_Follower {
    padding: 0.5rem;
    border-radius: var(--tbwa-radius-sm);

    &:hover {
      background-color: var(--tbwa-surface);
    }

    .o_Follower_name {
      color: var(--tbwa-text-primary);
    }

    .o_Follower_button {
      color: var(--tbwa-text-secondary);

      &:hover {
        color: var(--tbwa-danger);
      }
    }
  }
}

// ============================================================================
// ATTACHMENTS
// ============================================================================
.o_Attachment {
  background-color: var(--tbwa-surface);
  border: 1px solid var(--tbwa-border);
  border-radius: var(--tbwa-radius-sm);
  padding: 0.5rem;
  margin: 0.25rem;

  &:hover {
    background-color: var(--tbwa-surface-elevated);
    box-shadow: var(--tbwa-shadow-sm);
  }

  .o_Attachment_name {
    color: var(--tbwa-primary);
    font-weight: 500;
  }

  .o_Attachment_size {
    color: var(--tbwa-text-secondary);
    font-size: 0.75rem;
  }

  .o_Attachment_delete {
    color: var(--tbwa-text-secondary);

    &:hover {
      color: var(--tbwa-danger);
    }
  }
}

// ============================================================================
// MAIL THREADS
// ============================================================================
.o_mail_thread {
  .o_mail_note {
    background-color: rgba(251, 191, 36, 0.05);
    border-left: 3px solid var(--tbwa-accent);
  }
}

// ============================================================================
// SCHEDULED ACTIVITIES BADGE
// ============================================================================
.o_field_widget.o_field_activity {
  .o_activity {
    &.o_activity_color_default {
      background-color: var(--tbwa-surface);
    }

    &.o_activity_color_success {
      background-color: rgba(16, 185, 129, 0.1);
    }

    &.o_activity_color_warning {
      background-color: rgba(251, 191, 36, 0.1);
    }

    &.o_activity_color_danger {
      background-color: rgba(239, 68, 68, 0.1);
    }
  }
}
