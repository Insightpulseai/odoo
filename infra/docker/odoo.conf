[options]
; =============================================================================
; Odoo 18 CE Configuration - Layered Architecture
; =============================================================================
; Addons path order: IPAI (custom) → OCA (gap-fill) → CE (native)
;
; See: REPO_RESTRUCTURE_PLAN.md for architecture details
; =============================================================================

; ----- Database -----
db_host = db
db_port = 5432
db_user = odoo
db_password = CHANGE_ME_STRONG_DB_PASSWORD
db_name = False
dbfilter = ^(odoo|insightpulse)$
list_db = False
db_sslmode = disable

; ----- Addons Path (Layered: IPAI → OCA → CE) -----
; Priority: First path wins for module resolution
; 1. /mnt/addons/ipai     - Custom IPAI modules (ipai_ppm, ipai_advisor, etc.)
; 2. /mnt/addons/oca/*    - Vendored OCA repos (project, mis-builder, etc.)
; 3. /mnt/odoo/addons     - Native Odoo CE modules
;
; Note: Each OCA repo is a separate path. In docker-compose, mount:
;   - ./addons/ipai:/mnt/addons/ipai:ro
;   - ./addons/oca:/mnt/addons/oca:ro
;
addons_path = /mnt/addons/ipai,/mnt/addons/oca/project,/mnt/addons/oca/mis-builder,/mnt/addons/oca/reporting-engine,/mnt/addons/oca/server-tools,/mnt/addons/oca/server-ux,/mnt/addons/oca/purchase-workflow,/mnt/addons/oca/hr-expense,/mnt/addons/oca/account-financial-tools,/mnt/addons/oca/account-financial-reporting,/mnt/addons/oca/contract,/mnt/addons/oca/dms,/usr/lib/python3/dist-packages/odoo/addons

; ----- HTTP -----
http_port = 8069
proxy_mode = True
limit_time_cpu = 600
limit_time_real = 1200

; ----- Logging -----
logfile = /var/log/odoo/odoo.log
log_level = info

; ----- Security -----
admin_passwd = CHANGE_ME_SUPERMASTER_PASSWORD

; ----- Resource Limits -----
limit_memory_hard = 2684354560
limit_memory_soft = 2147483648
limit_request = 8192

; ----- Worker Configuration -----
workers = 4
max_cron_threads = 2
db_maxconn = 64

; ----- Misc -----
; No email/IAP/SaaS config - CE/OCA only
