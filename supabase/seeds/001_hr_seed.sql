-- HR Seed Data
-- Complete organizational structure with sample employees

-- ============================================================================
-- DEPARTMENTS
-- ============================================================================
INSERT INTO hr_departments (id, name, code, parent_id, cost_center) VALUES
    ('d1000000-0000-0000-0000-000000000001', 'Executive', 'EXEC', NULL, 'CC-EXEC'),
    ('d1000000-0000-0000-0000-000000000002', 'Finance', 'FIN', 'd1000000-0000-0000-0000-000000000001', 'CC-FIN'),
    ('d1000000-0000-0000-0000-000000000003', 'Human Resources', 'HR', 'd1000000-0000-0000-0000-000000000001', 'CC-HR'),
    ('d1000000-0000-0000-0000-000000000004', 'Engineering', 'ENG', 'd1000000-0000-0000-0000-000000000001', 'CC-ENG'),
    ('d1000000-0000-0000-0000-000000000005', 'Operations', 'OPS', 'd1000000-0000-0000-0000-000000000001', 'CC-OPS'),
    ('d1000000-0000-0000-0000-000000000006', 'Sales', 'SALES', 'd1000000-0000-0000-0000-000000000001', 'CC-SALES'),
    ('d1000000-0000-0000-0000-000000000007', 'Marketing', 'MKT', 'd1000000-0000-0000-0000-000000000001', 'CC-MKT'),
    ('d1000000-0000-0000-0000-000000000008', 'Product', 'PROD', 'd1000000-0000-0000-0000-000000000001', 'CC-PROD'),
    ('d1000000-0000-0000-0000-000000000009', 'Customer Support', 'CS', 'd1000000-0000-0000-0000-000000000005', 'CC-CS'),
    ('d1000000-0000-0000-0000-000000000010', 'IT', 'IT', 'd1000000-0000-0000-0000-000000000004', 'CC-IT');

-- ============================================================================
-- JOB POSITIONS
-- ============================================================================
INSERT INTO hr_job_positions (id, name, code, department_id, min_salary, max_salary) VALUES
    -- Executive
    ('j1000000-0000-0000-0000-000000000001', 'Chief Executive Officer', 'CEO', 'd1000000-0000-0000-0000-000000000001', 250000, 500000),
    ('j1000000-0000-0000-0000-000000000002', 'Chief Financial Officer', 'CFO', 'd1000000-0000-0000-0000-000000000002', 200000, 400000),
    ('j1000000-0000-0000-0000-000000000003', 'Chief Technology Officer', 'CTO', 'd1000000-0000-0000-0000-000000000004', 200000, 400000),
    ('j1000000-0000-0000-0000-000000000004', 'Chief Operations Officer', 'COO', 'd1000000-0000-0000-0000-000000000005', 200000, 400000),
    -- Finance
    ('j1000000-0000-0000-0000-000000000010', 'Finance Director', 'FIN-DIR', 'd1000000-0000-0000-0000-000000000002', 120000, 180000),
    ('j1000000-0000-0000-0000-000000000011', 'Finance Manager', 'FIN-MGR', 'd1000000-0000-0000-0000-000000000002', 90000, 130000),
    ('j1000000-0000-0000-0000-000000000012', 'Senior Accountant', 'SR-ACCT', 'd1000000-0000-0000-0000-000000000002', 70000, 95000),
    ('j1000000-0000-0000-0000-000000000013', 'Accountant', 'ACCT', 'd1000000-0000-0000-0000-000000000002', 55000, 75000),
    ('j1000000-0000-0000-0000-000000000014', 'Accounts Payable Specialist', 'AP-SPEC', 'd1000000-0000-0000-0000-000000000002', 45000, 60000),
    -- HR
    ('j1000000-0000-0000-0000-000000000020', 'HR Director', 'HR-DIR', 'd1000000-0000-0000-0000-000000000003', 110000, 160000),
    ('j1000000-0000-0000-0000-000000000021', 'HR Manager', 'HR-MGR', 'd1000000-0000-0000-0000-000000000003', 75000, 110000),
    ('j1000000-0000-0000-0000-000000000022', 'HR Generalist', 'HR-GEN', 'd1000000-0000-0000-0000-000000000003', 50000, 70000),
    ('j1000000-0000-0000-0000-000000000023', 'Recruiter', 'RECR', 'd1000000-0000-0000-0000-000000000003', 55000, 80000),
    -- Engineering
    ('j1000000-0000-0000-0000-000000000030', 'VP of Engineering', 'VP-ENG', 'd1000000-0000-0000-0000-000000000004', 180000, 280000),
    ('j1000000-0000-0000-0000-000000000031', 'Engineering Manager', 'ENG-MGR', 'd1000000-0000-0000-0000-000000000004', 140000, 200000),
    ('j1000000-0000-0000-0000-000000000032', 'Senior Software Engineer', 'SR-SWE', 'd1000000-0000-0000-0000-000000000004', 120000, 180000),
    ('j1000000-0000-0000-0000-000000000033', 'Software Engineer', 'SWE', 'd1000000-0000-0000-0000-000000000004', 90000, 140000),
    ('j1000000-0000-0000-0000-000000000034', 'Junior Software Engineer', 'JR-SWE', 'd1000000-0000-0000-0000-000000000004', 60000, 90000),
    ('j1000000-0000-0000-0000-000000000035', 'DevOps Engineer', 'DEVOPS', 'd1000000-0000-0000-0000-000000000004', 100000, 160000),
    ('j1000000-0000-0000-0000-000000000036', 'QA Engineer', 'QA', 'd1000000-0000-0000-0000-000000000004', 70000, 110000),
    -- Sales
    ('j1000000-0000-0000-0000-000000000040', 'VP of Sales', 'VP-SALES', 'd1000000-0000-0000-0000-000000000006', 160000, 250000),
    ('j1000000-0000-0000-0000-000000000041', 'Sales Manager', 'SALES-MGR', 'd1000000-0000-0000-0000-000000000006', 90000, 140000),
    ('j1000000-0000-0000-0000-000000000042', 'Account Executive', 'AE', 'd1000000-0000-0000-0000-000000000006', 60000, 100000),
    ('j1000000-0000-0000-0000-000000000043', 'Sales Development Rep', 'SDR', 'd1000000-0000-0000-0000-000000000006', 45000, 65000),
    -- Product
    ('j1000000-0000-0000-0000-000000000050', 'VP of Product', 'VP-PROD', 'd1000000-0000-0000-0000-000000000008', 170000, 260000),
    ('j1000000-0000-0000-0000-000000000051', 'Product Manager', 'PM', 'd1000000-0000-0000-0000-000000000008', 110000, 170000),
    ('j1000000-0000-0000-0000-000000000052', 'Product Designer', 'DESIGNER', 'd1000000-0000-0000-0000-000000000008', 90000, 140000);

-- ============================================================================
-- LEAVE TYPES
-- ============================================================================
INSERT INTO hr_leave_types (id, name, code, color, max_days_per_year, carry_forward_allowed, max_carry_forward_days, is_paid) VALUES
    ('lt100000-0000-0000-0000-000000000001', 'Paid Time Off', 'PTO', '#22c55e', 20, true, 5, true),
    ('lt100000-0000-0000-0000-000000000002', 'Sick Leave', 'SICK', '#ef4444', 10, false, 0, true),
    ('lt100000-0000-0000-0000-000000000003', 'Personal Leave', 'PERSONAL', '#3b82f6', 3, false, 0, true),
    ('lt100000-0000-0000-0000-000000000004', 'Bereavement', 'BEREAVE', '#6b7280', 5, false, 0, true),
    ('lt100000-0000-0000-0000-000000000005', 'Jury Duty', 'JURY', '#8b5cf6', NULL, false, 0, true),
    ('lt100000-0000-0000-0000-000000000006', 'Unpaid Leave', 'UNPAID', '#f59e0b', NULL, false, 0, false),
    ('lt100000-0000-0000-0000-000000000007', 'Parental Leave', 'PARENTAL', '#ec4899', 60, false, 0, true),
    ('lt100000-0000-0000-0000-000000000008', 'Work From Home', 'WFH', '#06b6d4', NULL, false, 0, true);

-- ============================================================================
-- EMPLOYEES (50 sample employees)
-- ============================================================================
INSERT INTO hr_employees (id, employee_number, first_name, last_name, email, phone, department_id, job_position_id, manager_id, employment_type, hire_date, status, is_manager) VALUES
    -- Executive Team
    ('e1000000-0000-0000-0000-000000000001', 'EMP001', 'Sarah', 'Johnson', 'sarah.johnson@company.com', '555-0101', 'd1000000-0000-0000-0000-000000000001', 'j1000000-0000-0000-0000-000000000001', NULL, 'full_time', '2018-01-15', 'active', true),
    ('e1000000-0000-0000-0000-000000000002', 'EMP002', 'Michael', 'Chen', 'michael.chen@company.com', '555-0102', 'd1000000-0000-0000-0000-000000000002', 'j1000000-0000-0000-0000-000000000002', 'e1000000-0000-0000-0000-000000000001', 'full_time', '2018-03-01', 'active', true),
    ('e1000000-0000-0000-0000-000000000003', 'EMP003', 'David', 'Park', 'david.park@company.com', '555-0103', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000003', 'e1000000-0000-0000-0000-000000000001', 'full_time', '2018-02-15', 'active', true),
    ('e1000000-0000-0000-0000-000000000004', 'EMP004', 'Jennifer', 'Williams', 'jennifer.williams@company.com', '555-0104', 'd1000000-0000-0000-0000-000000000005', 'j1000000-0000-0000-0000-000000000004', 'e1000000-0000-0000-0000-000000000001', 'full_time', '2018-04-01', 'active', true),

    -- Finance Team
    ('e1000000-0000-0000-0000-000000000010', 'EMP010', 'Robert', 'Miller', 'robert.miller@company.com', '555-0110', 'd1000000-0000-0000-0000-000000000002', 'j1000000-0000-0000-0000-000000000010', 'e1000000-0000-0000-0000-000000000002', 'full_time', '2019-01-10', 'active', true),
    ('e1000000-0000-0000-0000-000000000011', 'EMP011', 'Lisa', 'Garcia', 'lisa.garcia@company.com', '555-0111', 'd1000000-0000-0000-0000-000000000002', 'j1000000-0000-0000-0000-000000000011', 'e1000000-0000-0000-0000-000000000010', 'full_time', '2019-06-15', 'active', true),
    ('e1000000-0000-0000-0000-000000000012', 'EMP012', 'James', 'Brown', 'james.brown@company.com', '555-0112', 'd1000000-0000-0000-0000-000000000002', 'j1000000-0000-0000-0000-000000000012', 'e1000000-0000-0000-0000-000000000011', 'full_time', '2020-02-01', 'active', false),
    ('e1000000-0000-0000-0000-000000000013', 'EMP013', 'Emily', 'Davis', 'emily.davis@company.com', '555-0113', 'd1000000-0000-0000-0000-000000000002', 'j1000000-0000-0000-0000-000000000013', 'e1000000-0000-0000-0000-000000000011', 'full_time', '2021-03-15', 'active', false),
    ('e1000000-0000-0000-0000-000000000014', 'EMP014', 'Kevin', 'Martinez', 'kevin.martinez@company.com', '555-0114', 'd1000000-0000-0000-0000-000000000002', 'j1000000-0000-0000-0000-000000000014', 'e1000000-0000-0000-0000-000000000011', 'full_time', '2022-01-10', 'active', false),

    -- HR Team
    ('e1000000-0000-0000-0000-000000000020', 'EMP020', 'Amanda', 'Wilson', 'amanda.wilson@company.com', '555-0120', 'd1000000-0000-0000-0000-000000000003', 'j1000000-0000-0000-0000-000000000020', 'e1000000-0000-0000-0000-000000000001', 'full_time', '2018-05-01', 'active', true),
    ('e1000000-0000-0000-0000-000000000021', 'EMP021', 'Chris', 'Anderson', 'chris.anderson@company.com', '555-0121', 'd1000000-0000-0000-0000-000000000003', 'j1000000-0000-0000-0000-000000000021', 'e1000000-0000-0000-0000-000000000020', 'full_time', '2019-08-15', 'active', true),
    ('e1000000-0000-0000-0000-000000000022', 'EMP022', 'Jessica', 'Taylor', 'jessica.taylor@company.com', '555-0122', 'd1000000-0000-0000-0000-000000000003', 'j1000000-0000-0000-0000-000000000022', 'e1000000-0000-0000-0000-000000000021', 'full_time', '2020-11-01', 'active', false),
    ('e1000000-0000-0000-0000-000000000023', 'EMP023', 'Ryan', 'Thomas', 'ryan.thomas@company.com', '555-0123', 'd1000000-0000-0000-0000-000000000003', 'j1000000-0000-0000-0000-000000000023', 'e1000000-0000-0000-0000-000000000021', 'full_time', '2021-04-15', 'active', false),

    -- Engineering Team
    ('e1000000-0000-0000-0000-000000000030', 'EMP030', 'Alex', 'Lee', 'alex.lee@company.com', '555-0130', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000030', 'e1000000-0000-0000-0000-000000000003', 'full_time', '2018-06-01', 'active', true),
    ('e1000000-0000-0000-0000-000000000031', 'EMP031', 'Michelle', 'Kim', 'michelle.kim@company.com', '555-0131', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000031', 'e1000000-0000-0000-0000-000000000030', 'full_time', '2019-02-15', 'active', true),
    ('e1000000-0000-0000-0000-000000000032', 'EMP032', 'Daniel', 'Patel', 'daniel.patel@company.com', '555-0132', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000032', 'e1000000-0000-0000-0000-000000000031', 'full_time', '2019-09-01', 'active', false),
    ('e1000000-0000-0000-0000-000000000033', 'EMP033', 'Sophia', 'Nguyen', 'sophia.nguyen@company.com', '555-0133', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000032', 'e1000000-0000-0000-0000-000000000031', 'full_time', '2020-03-15', 'active', false),
    ('e1000000-0000-0000-0000-000000000034', 'EMP034', 'Andrew', 'Robinson', 'andrew.robinson@company.com', '555-0134', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000033', 'e1000000-0000-0000-0000-000000000031', 'full_time', '2020-07-01', 'active', false),
    ('e1000000-0000-0000-0000-000000000035', 'EMP035', 'Rachel', 'Clark', 'rachel.clark@company.com', '555-0135', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000033', 'e1000000-0000-0000-0000-000000000031', 'full_time', '2021-01-15', 'active', false),
    ('e1000000-0000-0000-0000-000000000036', 'EMP036', 'Jason', 'Lewis', 'jason.lewis@company.com', '555-0136', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000034', 'e1000000-0000-0000-0000-000000000031', 'full_time', '2022-06-01', 'active', false),
    ('e1000000-0000-0000-0000-000000000037', 'EMP037', 'Nicole', 'Walker', 'nicole.walker@company.com', '555-0137', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000035', 'e1000000-0000-0000-0000-000000000030', 'full_time', '2019-11-01', 'active', false),
    ('e1000000-0000-0000-0000-000000000038', 'EMP038', 'Brandon', 'Hall', 'brandon.hall@company.com', '555-0138', 'd1000000-0000-0000-0000-000000000004', 'j1000000-0000-0000-0000-000000000036', 'e1000000-0000-0000-0000-000000000031', 'full_time', '2020-09-15', 'active', false),

    -- Sales Team
    ('e1000000-0000-0000-0000-000000000040', 'EMP040', 'Matthew', 'Young', 'matthew.young@company.com', '555-0140', 'd1000000-0000-0000-0000-000000000006', 'j1000000-0000-0000-0000-000000000040', 'e1000000-0000-0000-0000-000000000001', 'full_time', '2018-07-15', 'active', true),
    ('e1000000-0000-0000-0000-000000000041', 'EMP041', 'Stephanie', 'King', 'stephanie.king@company.com', '555-0141', 'd1000000-0000-0000-0000-000000000006', 'j1000000-0000-0000-0000-000000000041', 'e1000000-0000-0000-0000-000000000040', 'full_time', '2019-03-01', 'active', true),
    ('e1000000-0000-0000-0000-000000000042', 'EMP042', 'Justin', 'Wright', 'justin.wright@company.com', '555-0142', 'd1000000-0000-0000-0000-000000000006', 'j1000000-0000-0000-0000-000000000042', 'e1000000-0000-0000-0000-000000000041', 'full_time', '2020-05-15', 'active', false),
    ('e1000000-0000-0000-0000-000000000043', 'EMP043', 'Ashley', 'Scott', 'ashley.scott@company.com', '555-0143', 'd1000000-0000-0000-0000-000000000006', 'j1000000-0000-0000-0000-000000000042', 'e1000000-0000-0000-0000-000000000041', 'full_time', '2021-02-01', 'active', false),
    ('e1000000-0000-0000-0000-000000000044', 'EMP044', 'Tyler', 'Green', 'tyler.green@company.com', '555-0144', 'd1000000-0000-0000-0000-000000000006', 'j1000000-0000-0000-0000-000000000043', 'e1000000-0000-0000-0000-000000000041', 'full_time', '2022-03-15', 'active', false),
    ('e1000000-0000-0000-0000-000000000045', 'EMP045', 'Megan', 'Adams', 'megan.adams@company.com', '555-0145', 'd1000000-0000-0000-0000-000000000006', 'j1000000-0000-0000-0000-000000000043', 'e1000000-0000-0000-0000-000000000041', 'full_time', '2022-08-01', 'active', false),

    -- Product Team
    ('e1000000-0000-0000-0000-000000000050', 'EMP050', 'Lauren', 'Baker', 'lauren.baker@company.com', '555-0150', 'd1000000-0000-0000-0000-000000000008', 'j1000000-0000-0000-0000-000000000050', 'e1000000-0000-0000-0000-000000000001', 'full_time', '2018-09-01', 'active', true),
    ('e1000000-0000-0000-0000-000000000051', 'EMP051', 'Benjamin', 'Nelson', 'benjamin.nelson@company.com', '555-0151', 'd1000000-0000-0000-0000-000000000008', 'j1000000-0000-0000-0000-000000000051', 'e1000000-0000-0000-0000-000000000050', 'full_time', '2019-04-15', 'active', false),
    ('e1000000-0000-0000-0000-000000000052', 'EMP052', 'Victoria', 'Carter', 'victoria.carter@company.com', '555-0152', 'd1000000-0000-0000-0000-000000000008', 'j1000000-0000-0000-0000-000000000051', 'e1000000-0000-0000-0000-000000000050', 'full_time', '2020-01-15', 'active', false),
    ('e1000000-0000-0000-0000-000000000053', 'EMP053', 'Ethan', 'Mitchell', 'ethan.mitchell@company.com', '555-0153', 'd1000000-0000-0000-0000-000000000008', 'j1000000-0000-0000-0000-000000000052', 'e1000000-0000-0000-0000-000000000050', 'full_time', '2020-06-01', 'active', false);

-- Update department managers
UPDATE hr_departments SET manager_id = 'e1000000-0000-0000-0000-000000000001' WHERE code = 'EXEC';
UPDATE hr_departments SET manager_id = 'e1000000-0000-0000-0000-000000000002' WHERE code = 'FIN';
UPDATE hr_departments SET manager_id = 'e1000000-0000-0000-0000-000000000020' WHERE code = 'HR';
UPDATE hr_departments SET manager_id = 'e1000000-0000-0000-0000-000000000003' WHERE code = 'ENG';
UPDATE hr_departments SET manager_id = 'e1000000-0000-0000-0000-000000000004' WHERE code = 'OPS';
UPDATE hr_departments SET manager_id = 'e1000000-0000-0000-0000-000000000040' WHERE code = 'SALES';
UPDATE hr_departments SET manager_id = 'e1000000-0000-0000-0000-000000000050' WHERE code = 'PROD';

-- ============================================================================
-- EMPLOYEE LEAVE BALANCES (Current Year)
-- ============================================================================
INSERT INTO hr_leave_balances (employee_id, leave_type_id, year, allocated_days, used_days, carried_forward)
SELECT
    e.id,
    lt.id,
    EXTRACT(YEAR FROM CURRENT_DATE)::INT,
    COALESCE(lt.max_days_per_year, 0),
    FLOOR(RANDOM() * 5)::DECIMAL, -- Random used days
    0
FROM hr_employees e
CROSS JOIN hr_leave_types lt
WHERE e.status = 'active' AND lt.is_active = true;

-- ============================================================================
-- SAMPLE SALARIES
-- ============================================================================
INSERT INTO hr_salaries (employee_id, effective_date, base_salary, housing_allowance, transport_allowance, tax_rate, is_current) VALUES
    ('e1000000-0000-0000-0000-000000000001', '2024-01-01', 350000, 5000, 1000, 35, true),
    ('e1000000-0000-0000-0000-000000000002', '2024-01-01', 280000, 4000, 1000, 32, true),
    ('e1000000-0000-0000-0000-000000000003', '2024-01-01', 290000, 4000, 1000, 32, true),
    ('e1000000-0000-0000-0000-000000000004', '2024-01-01', 270000, 4000, 1000, 32, true),
    ('e1000000-0000-0000-0000-000000000010', '2024-01-01', 150000, 2500, 800, 28, true),
    ('e1000000-0000-0000-0000-000000000011', '2024-01-01', 110000, 2000, 600, 25, true),
    ('e1000000-0000-0000-0000-000000000012', '2024-01-01', 85000, 1500, 500, 22, true),
    ('e1000000-0000-0000-0000-000000000020', '2024-01-01', 140000, 2500, 800, 28, true),
    ('e1000000-0000-0000-0000-000000000030', '2024-01-01', 220000, 3500, 1000, 30, true),
    ('e1000000-0000-0000-0000-000000000031', '2024-01-01', 170000, 3000, 800, 28, true),
    ('e1000000-0000-0000-0000-000000000032', '2024-01-01', 145000, 2500, 700, 26, true),
    ('e1000000-0000-0000-0000-000000000040', '2024-01-01', 200000, 3000, 1000, 30, true),
    ('e1000000-0000-0000-0000-000000000050', '2024-01-01', 210000, 3500, 1000, 30, true);

-- ============================================================================
-- SAMPLE SKILLS
-- ============================================================================
INSERT INTO hr_employee_skills (employee_id, skill_name, skill_level, years_experience, certified) VALUES
    -- Engineering skills
    ('e1000000-0000-0000-0000-000000000032', 'Python', 'expert', 8, true),
    ('e1000000-0000-0000-0000-000000000032', 'PostgreSQL', 'advanced', 6, true),
    ('e1000000-0000-0000-0000-000000000032', 'React', 'advanced', 4, false),
    ('e1000000-0000-0000-0000-000000000033', 'TypeScript', 'expert', 5, true),
    ('e1000000-0000-0000-0000-000000000033', 'Node.js', 'advanced', 4, false),
    ('e1000000-0000-0000-0000-000000000037', 'Kubernetes', 'expert', 5, true),
    ('e1000000-0000-0000-0000-000000000037', 'Terraform', 'advanced', 3, true),
    ('e1000000-0000-0000-0000-000000000037', 'AWS', 'advanced', 4, true),
    -- Finance skills
    ('e1000000-0000-0000-0000-000000000012', 'GAAP', 'expert', 6, true),
    ('e1000000-0000-0000-0000-000000000012', 'SAP', 'advanced', 4, true),
    ('e1000000-0000-0000-0000-000000000012', 'Excel', 'expert', 8, false);

COMMIT;
