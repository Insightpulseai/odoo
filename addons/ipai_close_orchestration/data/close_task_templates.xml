<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!--
            Close Task Templates - TBWA Month-End Process
            Based on Oct 24-29 close cycle pattern
        -->

        <!-- === Accrual Management Templates === -->
        <record id="template_utility_accrual" model="close.task.template">
            <field name="name">Utility Expenses Accrual</field>
            <field name="code">ACCRUAL_UTILITY</field>
            <field name="sequence">10</field>
            <field name="category_id" ref="category_accrual"/>
            <field name="description">Accrue electricity, water, telephone, internet for the month</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-4</field>
            <field name="review_day_offset">-2</field>
            <field name="approve_day_offset">0</field>
            <field name="creates_gl_entry">True</field>
        </record>

        <record id="template_rent_accrual" model="close.task.template">
            <field name="name">Rent Expense Accrual</field>
            <field name="code">ACCRUAL_RENT</field>
            <field name="sequence">20</field>
            <field name="category_id" ref="category_accrual"/>
            <field name="description">Verify rent expense posting, prorate if needed</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-4</field>
            <field name="review_day_offset">-2</field>
            <field name="approve_day_offset">0</field>
            <field name="creates_gl_entry">True</field>
        </record>

        <record id="template_subscription_accrual" model="close.task.template">
            <field name="name">Software Subscriptions Accrual</field>
            <field name="code">ACCRUAL_SUBS</field>
            <field name="sequence">30</field>
            <field name="category_id" ref="category_accrual"/>
            <field name="description">Accrue SaaS, cloud services, software licenses</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-4</field>
            <field name="review_day_offset">-2</field>
            <field name="approve_day_offset">0</field>
            <field name="creates_gl_entry">True</field>
        </record>

        <!-- === Bank Reconciliation Templates === -->
        <record id="template_bank_recon_main" model="close.task.template">
            <field name="name">Main Operating Account Reconciliation</field>
            <field name="code">BANK_MAIN</field>
            <field name="sequence">40</field>
            <field name="category_id" ref="category_bank_recon"/>
            <field name="description">Reconcile main operating bank account with GL</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-3</field>
            <field name="review_day_offset">-1</field>
            <field name="approve_day_offset">0</field>
        </record>

        <record id="template_bank_recon_payroll" model="close.task.template">
            <field name="name">Payroll Account Reconciliation</field>
            <field name="code">BANK_PAYROLL</field>
            <field name="sequence">50</field>
            <field name="category_id" ref="category_bank_recon"/>
            <field name="description">Reconcile payroll bank account</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-3</field>
            <field name="review_day_offset">-1</field>
            <field name="approve_day_offset">0</field>
        </record>

        <!-- === Accounts Receivable Templates === -->
        <record id="template_ar_aging" model="close.task.template">
            <field name="name">AR Aging Analysis</field>
            <field name="code">AR_AGING</field>
            <field name="sequence">60</field>
            <field name="category_id" ref="category_ar"/>
            <field name="description">Review AR aging, identify overdue accounts, update collection notes</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-4</field>
            <field name="review_day_offset">-2</field>
            <field name="approve_day_offset">0</field>
        </record>

        <record id="template_ar_allowance" model="close.task.template">
            <field name="name">Allowance for Doubtful Accounts</field>
            <field name="code">AR_ALLOWANCE</field>
            <field name="sequence">70</field>
            <field name="category_id" ref="category_ar"/>
            <field name="description">Calculate and post AFDA adjustment based on aging</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-3</field>
            <field name="review_day_offset">-1</field>
            <field name="approve_day_offset">0</field>
            <field name="creates_gl_entry">True</field>
        </record>

        <!-- === Payroll Templates === -->
        <record id="template_payroll_process" model="close.task.template">
            <field name="name">Payroll Processing</field>
            <field name="code">PAYROLL_PROCESS</field>
            <field name="sequence">80</field>
            <field name="category_id" ref="category_payroll"/>
            <field name="description">Process monthly payroll, verify calculations, generate pay slips</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-5</field>
            <field name="review_day_offset">-3</field>
            <field name="approve_day_offset">-1</field>
            <field name="creates_gl_entry">True</field>
        </record>

        <record id="template_payroll_statutory" model="close.task.template">
            <field name="name">Statutory Contributions</field>
            <field name="code">PAYROLL_STATUTORY</field>
            <field name="sequence">90</field>
            <field name="category_id" ref="category_payroll"/>
            <field name="description">Calculate SSS, PhilHealth, Pag-IBIG, HDMF contributions</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-5</field>
            <field name="review_day_offset">-3</field>
            <field name="approve_day_offset">-1</field>
            <field name="creates_gl_entry">True</field>
        </record>

        <!-- === Fixed Assets Templates === -->
        <record id="template_depreciation" model="close.task.template">
            <field name="name">Monthly Depreciation</field>
            <field name="code">ASSET_DEPREC</field>
            <field name="sequence">100</field>
            <field name="category_id" ref="category_fixed_assets"/>
            <field name="description">Run depreciation calculation and post entries</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-3</field>
            <field name="review_day_offset">-1</field>
            <field name="approve_day_offset">0</field>
            <field name="creates_gl_entry">True</field>
        </record>

        <record id="template_asset_additions" model="close.task.template">
            <field name="name">Asset Additions Review</field>
            <field name="code">ASSET_ADD</field>
            <field name="sequence">110</field>
            <field name="category_id" ref="category_fixed_assets"/>
            <field name="description">Review and capitalize asset additions for the month</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-4</field>
            <field name="review_day_offset">-2</field>
            <field name="approve_day_offset">0</field>
        </record>

        <!-- === Tax Compliance Templates === -->
        <record id="template_vat_filing" model="close.task.template">
            <field name="name">VAT Return Preparation</field>
            <field name="code">TAX_VAT</field>
            <field name="sequence">120</field>
            <field name="category_id" ref="category_tax"/>
            <field name="description">Prepare BIR Form 2550M/2550Q VAT return</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-4</field>
            <field name="review_day_offset">-2</field>
            <field name="approve_day_offset">0</field>
        </record>

        <record id="template_wht_filing" model="close.task.template">
            <field name="name">Withholding Tax Remittance</field>
            <field name="code">TAX_WHT</field>
            <field name="sequence">130</field>
            <field name="category_id" ref="category_tax"/>
            <field name="description">Prepare BIR Forms 1601C, 1601E, 1601F for WHT remittance</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-4</field>
            <field name="review_day_offset">-2</field>
            <field name="approve_day_offset">0</field>
        </record>

        <!-- === Revenue Recognition Templates === -->
        <record id="template_revenue_review" model="close.task.template">
            <field name="name">Revenue Recognition Review</field>
            <field name="code">REV_REVIEW</field>
            <field name="sequence">140</field>
            <field name="category_id" ref="category_revenue"/>
            <field name="description">Review project milestones, recognize revenue per PFRS 15</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-4</field>
            <field name="review_day_offset">-2</field>
            <field name="approve_day_offset">0</field>
            <field name="creates_gl_entry">True</field>
        </record>

        <record id="template_deferred_revenue" model="close.task.template">
            <field name="name">Deferred Revenue Amortization</field>
            <field name="code">REV_DEFERRED</field>
            <field name="sequence">150</field>
            <field name="category_id" ref="category_revenue"/>
            <field name="description">Amortize deferred income to revenue based on delivery</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-3</field>
            <field name="review_day_offset">-1</field>
            <field name="approve_day_offset">0</field>
            <field name="creates_gl_entry">True</field>
        </record>

        <!-- === GL Reconciliation Templates === -->
        <record id="template_gl_recon" model="close.task.template">
            <field name="name">GL Account Reconciliations</field>
            <field name="code">GL_RECON</field>
            <field name="sequence">160</field>
            <field name="category_id" ref="category_gl_recon"/>
            <field name="description">Reconcile key GL accounts to subledgers and supporting documents</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-2</field>
            <field name="review_day_offset">-1</field>
            <field name="approve_day_offset">0</field>
        </record>

        <record id="template_interco_recon" model="close.task.template">
            <field name="name">Intercompany Reconciliation</field>
            <field name="code">INTERCO_RECON</field>
            <field name="sequence">170</field>
            <field name="category_id" ref="category_intercompany"/>
            <field name="description">Reconcile intercompany balances with sister companies</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-3</field>
            <field name="review_day_offset">-1</field>
            <field name="approve_day_offset">0</field>
        </record>

        <!-- === Financial Reporting Templates === -->
        <record id="template_trial_balance" model="close.task.template">
            <field name="name">Trial Balance Review</field>
            <field name="code">RPT_TB</field>
            <field name="sequence">180</field>
            <field name="category_id" ref="category_reporting"/>
            <field name="description">Review trial balance, verify debits=credits, check unusual balances</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">-1</field>
            <field name="review_day_offset">0</field>
            <field name="approve_day_offset">1</field>
        </record>

        <record id="template_fin_statements" model="close.task.template">
            <field name="name">Financial Statements Preparation</field>
            <field name="code">RPT_FS</field>
            <field name="sequence">190</field>
            <field name="category_id" ref="category_reporting"/>
            <field name="description">Prepare Income Statement, Balance Sheet, Cash Flow Statement</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">0</field>
            <field name="review_day_offset">1</field>
            <field name="approve_day_offset">2</field>
        </record>

        <!-- === Variance Analysis Templates === -->
        <record id="template_variance_bva" model="close.task.template">
            <field name="name">Budget vs Actual Analysis</field>
            <field name="code">VAR_BVA</field>
            <field name="sequence">200</field>
            <field name="category_id" ref="category_variance"/>
            <field name="description">Compare actuals to budget, explain significant variances</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">0</field>
            <field name="review_day_offset">1</field>
            <field name="approve_day_offset">2</field>
        </record>

        <!-- === Period Lock Templates === -->
        <record id="template_period_lock" model="close.task.template">
            <field name="name">Period Lock</field>
            <field name="code">LOCK_PERIOD</field>
            <field name="sequence">210</field>
            <field name="category_id" ref="category_period_lock"/>
            <field name="description">Lock GL period, prevent further postings</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">2</field>
            <field name="review_day_offset">2</field>
            <field name="approve_day_offset">3</field>
        </record>

        <!-- === Management Review Templates === -->
        <record id="template_mgmt_pack" model="close.task.template">
            <field name="name">Management Pack Preparation</field>
            <field name="code">MGMT_PACK</field>
            <field name="sequence">220</field>
            <field name="category_id" ref="category_mgmt_review"/>
            <field name="description">Prepare management reporting package with KPIs and commentary</field>
            <field name="period_type">monthly</field>
            <field name="prep_day_offset">1</field>
            <field name="review_day_offset">2</field>
            <field name="approve_day_offset">3</field>
        </record>

        <record id="template_board_pack" model="close.task.template">
            <field name="name">Board Pack Preparation</field>
            <field name="code">MGMT_BOARD</field>
            <field name="sequence">230</field>
            <field name="category_id" ref="category_mgmt_review"/>
            <field name="description">Prepare quarterly board presentation and analysis</field>
            <field name="period_type">quarterly</field>
            <field name="prep_day_offset">5</field>
            <field name="review_day_offset">7</field>
            <field name="approve_day_offset">10</field>
        </record>

    </data>
</odoo>
